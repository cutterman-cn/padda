/*! 2021-08-05 15:38:50 aplus_cloud_um_203467608.js */
!function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n(2).initGlobal(window),function(){var t=n(4);n(102)(t)}()},function(t,e,n){"use strict";var a,o=n(3),r=o.APLUS,i=o.APLUS_QUEUE,s=o.GOLDLOG,u=o.GOLDLOG_QUEUE,c=!1;try{a=window,c=!0}catch(t){a={}}e.getContext=function(){return a},e.initGlobal=function(t){a=t?t:{v:1,aplus:{},aplus_queue:[]};var e,n;if(c)try{e=a.aplus||(a.aplus={});var o=a.goldlog_queue||(a.goldlog_queue=[]);n=a.aplus_queue||(a.aplus_queue=[]),n=o.concat(n)}catch(t){}else e=a.aplus,n=a.aplus_queue;return a.aplus=a.goldlog=e,a.aplus_queue=a.goldlog_queue=n,a};var p=function(t){if(t===r||t===s){var e=a[r]||a[s];return e||(e=a[r]=a[s]={}),e}var n=u,o=i;if(t===o||t===n){var c=a[o]||a[n];return c||(c=a[o]=a[n]=[]),c}};e.getGlobalValue=p,e.setGlobalValue=function(t,e){a[t]=e};var l=function(t){var e;try{var n=p(r);e=n[t]}catch(t){e=""}finally{return e}};e.getGoldlogVal=l;var g=function(t,e){var n=!1;try{var a=p(r);t&&(a[t]=e,n=!0)}catch(t){n=!1}finally{return n}};e.setGoldlogVal=g,e.getClientInfo=function(){return l("_aplus_client")||{}}},function(t,e){var n="aplus",a="goldlog",o=n+"_queue",r=a+"_queue",i="mw_change",s="MetaInfo",u="append"+s,c="set"+s,p="http",l="_pubsub",g="other",f="2101",d="2201",_="2202",h="19999",m="1023",v="1010",y=3e4,b=18e5,E="ekvs",w=1e4,I=1,x=3e3,S="$$_page_start",P="$$_page_end",T="$$_app_start",A="$$_app_end",C="aplus_user_profile",k="imprint",M="aplus-idtype";t.exports={PAGE_ENTER:"PAGE_ENTER",CURRENT_PAGE_CONFIG:"CURRENT_PAGE_CONFIG",_ANONY_ID:"_anony_id",_USER_ID:"_user_id",DEFAULT_CODE:g,OTHER:h,EVENT_MAP:{2101:"click",2201:"exposure",2202:"exposure",19999:g,1023:"app_show",1010:"app_hide_or_unload"},EVENT_ID_MAP:{EXP:d,IMPEXP:_,CLK:f,OTHER:h,SHOW:m,H_OR_U:v},APLUS:n,GOLDLOG:a,UNSUBSCRIBE:n+"."+n+l+".unsubscribe",SUBSCRIBE:n+"."+n+l+".subscribe",PUBLISH:n+"."+n+l+".publish",CACHE_PUBS:n+"."+n+l+".cachePubs",APLUS_UNIVERSAL:n+"_universal",APLUS_QUEUE:o,GOLDLOG_QUEUE:r,COMPLETE:"complete",PV_CODE:"2001",EXP_CODE:d,CLK_CODE:f,OTHER_CODE:h,CLK:"CLK",EXP:"EXP",SPM_CNT:"spm-cnt",SPM_URL:"spm-url",SPM_PRE:"spm-pre",MW_CHANGE_PV:i+"_pv",MW_CHANGE_HJLJ:i+"_hjlj",HTTP:p+":",HTTPS:"https:",APPEND_META_INFO:u,SET_META_INFO:c,APLUS_APPEND_META_INFO:n+"."+u,APLUS_SET_META_INFO:n+"."+c,PVID:"pvid",APLUS_LOG_PIPE:"aplus-log-pipe",openAPIs:["send","enter","sendPV","record","combineRecord","recordUdata","requestVTConfig","setPageSPM","setMetaInfo","appendMetaInfo","updatePageProperties","updateNextPageProperties","updatePageUtparam","updateNextPageUtparam","pageAppear","pageDisappear","skipPage","updateSessionProperties","getPageSpmUrl","getPageSpmPre","setPageName","getElementSPM"],SESSION_INTERVAL:y,SESSION_PAUSE_TIME:"session_pause_time",IMPRINT:"imprint",CURRENT_SESSION:"current_session",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,REQUESTS:"requests",SHARES:"shares",APLUS_SSRC:"_aplus_ssrc",EKVS:E,EVENT_MAX_COUNT:w,MEMORY_MAX_COUNT:I,EVENT_SEND_DEFAULT_INTERVAL:x,PAGE_START:S,PAGE_END:P,APP_START:T,APP_END:A,USER_PROFILE_KEY:C,SHARE_CACHE_INTERVAL:b,IMPRINT:k,ID_TYPE:M}},function(t,e,n){t.exports={metaInfo:{"aplus-ifr-pv":"1","aplus-rhost-v":"umini.shujupie.com","aplus-rhost-g":"","aplus-channel":"",appId:"",sdkId:"aplus_cloud_um","aplus-cpvdata":{},"aplus-exdata":{},"aplus-mmstat-timeout":"10000","aplus-etag-timeout":"1500","aplus-toUT":"",customSdkId:"203467608_20210805_153847"},globalConfig:{isDecodeUrl:!0,isAli:!1,APLUS_QUEUE:"aplus_queue",ETAG_STORAGE_KEY:"__ETAG__CNA__ID__",script_name:"aplus.js",lver:"1.7.4",NAME_STORAGE_KEYS:{REFERRER:"wm_referrer",REFERRER_PV_ID:"refer_pv_id",LOST_PV_PAGE_DURATION:"lost_pv_page_duration",LOST_PV_PAGE_SPMAB:"lost_pv_page_spmab",LOST_PV_PAGE:"lost_pv_page",LOST_PV_PAGE_MSG:"lost_pv_page_msg"}},plugins:[{name:"aplus_track_debug",path:n(5)},{name:"aplus_body_ready",path:n(6)},{name:"pubsub",path:n(7)},{name:"aplus_client",path:n(12)},{name:"aplus_meta_inject",path:n(14)},{name:"name_storage",path:n(31)},{name:"record_lost_pv",path:n(35),config:{lostPvRecordRatio:.01}},{name:"aplus_monitor",path:n(37),config:{obsoleteInterRecordRatio:"0.01",jsErrorRecordRatio:"0.01",browserSupportRatio:"0.01"}},{name:"aplus_web_http_um",path:n(39)},{name:"aplus_log_inject",path:n(54),deps:["aplus_meta_inject"],config:{plugins:{pv:[{name:"etag",path:n(55)},{name:"when_to_sendpv",path:n(61),config:{aplusWaiting:""}},{name:"where_to_send",path:n(62)},{name:"what_to_send",path:n(64),config:{pvdataToUt:{}}},{name:"what_to_sendpv_userdata",path:n(68),deps:["what_to_send"]},{name:"what_to_sendpv_userdata_web",path:n(70),deps:["what_to_send","what_to_sendpv_userdata"]},{name:"what_to_sendpv_ut2",path:n(74),deps:["what_to_send"]},{name:"what_to_sendpv_um2native",path:n(76),deps:["what_to_send"]},{name:"can_to_sendpv",path:n(77),config:{flag:"NO"}},{name:"after_pv",path:n(78)}],hjlj:[{name:"etag",path:n(55)},{name:"where_to_send",path:n(62),deps:[]},{name:"what_to_send",path:n(64),deps:[]},{name:"what_to_hjlj_userdata",path:n(80),deps:["what_to_send"]},{name:"what_to_hjlj_userdata_web",path:n(81),deps:["what_to_send","what_to_hjlj_userdata"]},{name:"what_to_hjlj_ut2",path:n(82),deps:["what_to_send"]},{name:"what_to_hjlj_um2native",path:n(83),deps:["what_to_send"]}]}}},{name:"aplus_api",path:n(84)},{name:"meta_queue",path:n(92)},{name:"etag",path:n(55)},{name:"etag_web_sync",path:n(94)},{name:"aplus_queue",path:n(95)},{name:"hot_loader",path:n(96),config:{urlRules:[{rule:"aplus_webvt_messager",cdnPath:["https://d.alicdn.com/alilog/mlog/aplus_webvt_messager.js"]}]}},{name:"aplus_h5_share",path:n(97)},{name:"aplus_apv",path:n(100),deps:["aplus_log_inject","aplus_api"]}]}},function(t,e){"use strict";t.exports=function(){return{run:function(){var t=document,e=window.aplus||(window.aplus={});if(!e._aplus_cplugin_track_deb){e._aplus_cplugin_track_deb={status:"init"};var n=window,a=function(){try{var e=n.localStorage,a="aplus_track_debug_id",o=new RegExp("[?|&]"+a+"=(\\w*)"),r=location.href.match(o);if(r&&r.length>0)e.setItem(a,r[1]);else{var i=t.referrer||"",s=i.match(o);if(s&&s.length>0)e.setItem(a,s[1]);else{var u=n.name||"",c=u.match(o);c&&c.length>0&&e.setItem(a,c[1])}}var p=e.getItem(a)||"";if(!(p&&p.length>50))return!1;var l,g=p.split("_");if(g&&g.length>0){l=g[g.length-1].replace(/log/,"");var f=new Date,d=f.getTime(),_=new Date,h=_.getTime();f.setFullYear(parseInt(l.substr(0,4))),f.setMonth(parseInt(l.substr(4,2)-1)),f.setDate(parseInt(l.substr(6,2))),f.setHours(parseInt(l.substr(8,2))),f.setMinutes(parseInt(l.substr(10,2))),f.setSeconds(parseInt(l.substr(12,2))),f.setMilliseconds(0),d=f.getTime(),h=_.getTime();var m=h-d;return m<=36e5&&(p||r[1])}}catch(t){return!1}},o=a();if(o){e._aplus_cplugin_track_deb.status="start";var r={aplus_track_debug_id:o},i=window.aplus_queue||(window.aplus_queue=[]);i.push({action:"aplus.appendMetaInfo",arguments:["aplus-exdata",r]}),i.push({action:"aplus.appendMetaInfo",arguments:["aplus-cpvdata",r]}),e._aplus_cplugin_track_deb.status="complete"}}}}}},function(t,e){"use strict";t.exports=function(){return{run:function(t,e){var n=setInterval(function(){document.getElementsByTagName("body").length&&(clearInterval(n),n=null,e())},50);return setTimeout(function(){n&&clearInterval(n)},1e3),1e3}}}},function(t,e,n){var a=n(8),o=n(2);t.exports=function(){return{run:function(){var t=o.getGlobalValue("aplus");t.aplus_pubsub||(t.aplus_pubsub=a.create())}}}},function(t,e,n){var a=n(9);t.exports=a.extend({subscribeOnce:function(t,e){this.callable(e);var n,a=this;return this.subscribe.call(this,t,n=function(){a.unsubscribe.call(a,t,n);var o=Array.prototype.slice.call(arguments);e.apply(a,o)}),this}})},function(t,e,n){"use strict";var a=n(10),o=n(11),r=function(t){for(var e=t.length,n=new Array(e-1),a=1;a<e;a++)n[a-1]=t[a];return n},i=o.extend({callable:function(t){if(!a(t))throw new TypeError(t+" is not a function");return t},create:function(t){var e=new this;for(var n in t)e[n]=t[n];return e.handlers=[],e.pubs={},e},setHandlers:function(t){this.handlers=t},subscribe:function(t,e){this.callable(e);var n=this,a=n.pubs||{},o=a[t]||[];if(o)for(var r=0;r<o.length;r++){var i=o[r]();e.apply(n,i)}var s=n.handlers||[];return t in s||(s[t]=[]),s[t].push(e),n.setHandlers(s),n},unsubscribe:function(t,e){this.callable(e);try{var n=this.handlers[t];if(!n)return this;if("object"==typeof n&&n.length>0){for(var a=0;a<n.length;a++){var o=e.toString(),r=n[a].toString();o===r&&n.splice(a,1)}this.handlers[t]=n}else delete this.handlers[t]}catch(t){}return this},publish:function(t){var e=r(arguments),n=this.handlers||[],o=n[t]?n[t].length:0;if(o>0)for(var i=0;i<o;i++){var s=n[t][i];a(s)&&s.apply(this,e)}return this},cachePubs:function(t){var e=this.pubs||{},n=r(arguments);e[t]||(e[t]=[]),e[t].push(function(){return n})}});t.exports=i},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";function a(){}var o=n(10);a.prototype.extend=function(){},a.prototype.create=function(){},a.extend=function(t){return this.prototype.extend.call(this,t)},a.prototype.create=function(t){var e=new this;for(var n in t)e[n]=t[n];return e},a.prototype.extend=function(t){var e=function(){};try{o(Object.create)||(Object.create=function(t){function e(){}return e.prototype=t,new e}),e.prototype=Object.create(this.prototype);for(var n in t)e.prototype[n]=t[n];e.prototype.constructor=e,e.extend=e.prototype.extend,e.create=e.prototype.create}catch(t){console&&console.log(t)}finally{return e}},t.exports=a},function(t,e,n){"use strict";t.exports=function(){return{run:function(){var t=window.aplus||(window.aplus={});t._aplus_client=n(13)()}}}},function(t,e){"use strict";function n(t){for(var e=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["Windows NT 6.3","win8.1"],["Windows NT 10.0","win10"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],n=0,a=e.length;n<a;++n){var o=e[n][0];if(t.indexOf(o)!==-1){var r=o.split(" ")[0];return{device_model:r,os:r,os_version:e[n][1]}}}var i="other";return{device_model:i,os:i,os_version:i}}function a(t,e){var n=t.substring(t.indexOf("(")+1,t.indexOf(")")),a={device_model:e},o=e.toLowerCase();switch(o){case"ipad":case"iphone":case"ipod":case"macintosh":"macintosh"===o?/Mac OS X/.test(n)?a.os="Mac OS X":a.os="Mac OS":a.os="IOS",a.os_version=n.match(/[0-9_.]+/)[0];break;case"android":a.os="Android",a.os_version=n.match(/[0-9.]+/)[0]}return a.os_version=a.os_version.replace(/_/g,"."),a}t.exports=function(){var t=navigator.userAgent,e={},o=t.match(/iphone|ipad|android|macintosh/i),r=t.match(/Darwin/i);if(o)e=a(t,o[0]);else if(r){var i=t.split(" ")[2];e={os:"Darwin",os_version:i.match(/[0-9.]+/)[0],device_model:"Darwin"}}else e=n(t);var s=screen||{};return e.screenWidth=s.width,e.screenHeight=s.height,navigator&&(e.userAgent=navigator.userAgent||"-",e.language=navigator.language||navigator.userLanguage||"-"),e}},function(t,e,n){"use strict";t.exports=function(){return{run:function(){n(15)(this.options.context.aplus_config)}}}},function(t,e,n){"use strict";function a(){var t=document,e="//g.alicdn.com";if(t){var n=t.getElementById("beacon-aplus")||t.getElementById("tb-beacon-aplus"),a=["//assets.alicdn.com/g","//g-assets.daily.taobao.net","//alidt.oss-cn-hangzhou.aliyuncs.com"];if(n)for(var o=0;o<a.length;o++){var r=new RegExp(a[o]);if(r.test(n.src)){e=a[o];break}}}return e}function o(){s||(s=a());var t="//assets.alicdn.com/g"===s||"//laz-g-cdn.alicdn.com"===s;return t||"int"===g.getMetaInfo("aplus-env")}function r(){if(navigator&&navigator.userAgent){var t=/iphone|android/i.test(navigator.userAgent),e=t||/TB\-PD/i.test(navigator.userAgent);return e}return!0}function i(){var t,e=c.getParamFromUrl("utparamcnt",location.href);if(e)try{t=e=JSON.parse(decodeURIComponent(e))}catch(t){}return t}var s,u=n(2),c=n(16),p=n(17),l=n(18),g=n(19);t.exports=function(t){var e=u.getGlobalValue("aplus"),s=t.globalConfig.NAME_STORAGE_KEYS,c=n(30).getRefer(s);e.nameStorage=l.nameStorage,p.haveNativeFlagInUA();var f=e._$=e._$||{};f.is_terminal=r(),f.send_pv_count=0,f.page_referrer=c,f.spm={data:{},page_referrer:c},e.globalConfig=t.globalConfig;var d=i();f.meta_info=g.qGet()||{};for(var _ in t.metaInfo)if(!f.meta_info.hasOwnProperty(_)){var h=t.metaInfo[_];"aplus-utparam"===_?(d&&g.appendMetaInfo(_,d),g.appendMetaInfo(_,h)):g.setMetaInfo(_,h)}e._$=f,e.isInternational=o,e.getCdnPath=a}},function(t,e){"use strict";function n(t,e){if(!t||!e)return"";var n,a="";try{var o=new RegExp(t+"=([^&|#|?|/]+)");if("spm"===t||"scm"===t){var r=new RegExp("\\?.*"+t+"=([\\w\\.\\-\\*/]+)"),i=e.match(o),s=e.match(r),u=i&&2===i.length?i[1]:"",c=s&&2===s.length?s[1]:"";a=u>c?u:c,a=decodeURIComponent(a)}else n=e.match(o),a=n&&2===n.length?n[1]:""}catch(t){}finally{return a}}e.getParamFromUrl=n,e.getSPMFromUrl=function(t){return n("spm",t)}},function(t,e,n){"use strict";var a=n(2),o="UT4Aplus",r="Umeng4Aplus";e.isNative4Aplus=function(){var t=a.getGlobalValue("aplus"),e=t.getMetaInfo("aplus-toUT"),n=t.aplusBridgeName;return n===o&&e===o||n===r},e.haveNativeFlagInUA=function(){var t=a.getGlobalValue("aplus"),e=t.aplusBridgeName;if(!e&&"boolean"!=typeof e&&navigator&&navigator.userAgent){var n=new RegExp([o,r].join("|"),"i"),i=navigator.userAgent.match(n);e=!!i&&i[0],t.aplusBridgeName=e}return!!e}},function(t,e,n){"use strict";var a=n(2),o=function(){function t(){var t,e=[],n=!0;for(var a in g)g.hasOwnProperty(a)&&(n=!1,t=g[a]||"",e.push(p(a)+u+p(t)));window.name=n?o:r+p(o)+s+e.join(c)}function e(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(e){n.call(t,e)}))}var n=a.getGlobalValue("nameStorage");if(n)return n;var o,r="nameStorage:",i=/^([^=]+)(?:=(.*))?$/,s="?",u="=",c="&",p=encodeURIComponent,l=decodeURIComponent,g={},f={};return function(t){if(t&&0===t.indexOf(r)){var e=t.split(/[:?]/);e.shift(),o=l(e.shift())||"";for(var n,a,s,u=e.join(""),p=u.split(c),f=0,d=p.length;f<d;f++)n=p[f].match(i),n&&n[1]&&(a=l(n[1]),s=l(n[2])||"",g[a]=s)}else o=t||""}(window.name),f.setItem=function(e,n){e&&"undefined"!=typeof n&&(g[e]=String(n),t())},f.getItem=function(t){return g.hasOwnProperty(t)?g[t]:null},f.removeItem=function(e){g.hasOwnProperty(e)&&(g[e]=null,delete g[e],t())},f.clear=function(){g={},t()},f.valueOf=function(){return g},f.toString=function(){var t=window.name;return 0===t.indexOf(r)?t:r+t},e(window,"beforeunload",function(){t()}),f}();e.nameStorage=o},function(t,e,n){"use strict";function a(t){var e,n,a,o=t.length,r={};for(m._microscope_data=r,e=0;e<o;e++)n=t[e],"microscope-data"===_.tryToGetAttribute(n,"name")&&(a=_.tryToGetAttribute(n,"content"),g.parseSemicolonContent(a,r),m.is_head_has_meta_microscope_data=!0);m._microscope_data_params=p.obj2param(r),m.ms_data_page_id=r.pageId,m.ms_data_shop_id=r.shopId,m.ms_data_instance_id=r.siteInstanceId,m.ms_data_siteCategoryId=r.siteCategory,m.ms_prototype_id=r.prototypeId,m.site_instance_id_or_shop_id=m.ms_data_instance_id||m.ms_data_shop_id,m._atp_beacon_data={},m._atp_beacon_data_params=""}function o(t){var e,n=function(){var e;return document.querySelector&&(e=document.querySelector("meta[name=data-spm]")),d(t,function(t){"data-spm"===_.tryToGetAttribute(t,"name")&&(e=t)}),e},a=n();return a&&(e=_.tryToGetAttribute(a,"data-spm-protocol")),e}function r(t){var e=t.isonepage||"-1",n=e.split("|"),a=n[0],o=n[1]?n[1]:"";t.isonepage_data={isonepage:a,urlpagename:o}}function i(){if(document){var t=h.getMetaTags();a(t),d(t,function(t){var e=_.tryToGetAttribute(t,"name");if(/^aplus/.test(e)&&(m[e]=h.getMetaCnt(e),e===v))try{u=m[e]=JSON.parse(h.getMetaCnt(e))}catch(t){}}),d(y,function(t){m[t]=h.getMetaCnt(t)}),m.spm_protocol=o(t),u&&(m=l.assign(m,u));var e,n,i=["aplus-rate-ahot"],s=i.length;for(e=0;e<s;e++)n=i[e],m[n]=parseFloat(m[n]);r(m)}return c=m||{},m}function s(t){f.logger({msg:"please do not repeat setPriorityMetaInfo "+t})}var u,c,p=n(20),l=n(21),g=n(23),f=n(26),d=n(27),_=n(28),h=n(29),m={},v="aplus-x-settings",y=["ahot-aplus","isonepage","spm-id","data-spm","microscope-data"];e.getInfo=i,e.qGet=function(){return c||i()},e.setMetaInfo=function(t,e){if(c||(c={}),"object"==typeof u&&u[t])return s(t),!0;if(t===v){if(u)s(t);else try{u="object"==typeof e?e:JSON.parse(e),c=l.assign(c,u)}catch(t){console&&console.log(t)}return!0}return"aplus-exinfo"===t?c[t]="object"==typeof e?e:p.param2obj(e):c[t]=e,!0};var b=function(t){return c||(c={}),c[t]||""};e.getMetaInfo=b,e.appendMetaInfo=function(t,e){if(t&&e){var n,a=function(n){try{var a="string"==typeof e?JSON.parse(e):e;i(t,l.assign(n,a))}catch(t){}},o=function(n){try{var a="string"==typeof e?JSON.parse(e):e;i(t,n.concat(a))}catch(t){}},r=function(t){t.constructor===Array?o(t):a(t)},i=function(t,e){aplus.setMetaInfo(t,e,{from:"appendMetaInfo"})},s=function(n){var a=p.param2obj(e);i(t,l.assign(n,a))},u=aplus.getMetaInfo(t);if("aplus-exinfo"===t&&(s(u),n=!0),u)if("object"==typeof u)r(u),n=!0;else try{var c=JSON.parse(u);"object"==typeof c&&(r(c),n=!0)}catch(t){}n||i(t,e)}}},function(t,e){"use strict";function n(t,e){var n,o,r,i=[],s=t.length;for(r=0;r<s;r++){n=t[r][0],o=t[r][1];var u=0===n.indexOf(a),c=u||e?o:encodeURIComponent(o);i.push(u?c:n+"="+c)}return i.join("&")}e.arr2obj=function(t){var e,n,a,o={},r=t.length;for(a=0;a<r;a++)e=t[a][0],n=t[a][1],o[e]=n;return o},e.param2obj=function(t){if("object"==typeof t)return t;t||(t="");for(var e={},n=t.split("&"),a=0;a<n.length;a++){var o=n[a],r=o.indexOf("="),i=o.split("="),s=o.length;if(2===i.length)e[i[0]]=i[1]||"";else if(r>0){var u=o.slice(0,r),c=o.slice(r+1,s)||"";e[u]=c}else e[i[0]]=""}return e};var a="::-plain-::";e.s_plain_obj=a,e.arr2param=n,e.obj2param=function(t,e){var n,o,r,i=[];for(n in t)n&&t.hasOwnProperty(n)&&(o=""+t[n],r=n+"="+o,e?i.push(r):i.push(0===n.indexOf(a)?o:r));return i.join("&")},e.encodeGokeyValue=function(t){return t}},function(t,e,n){"use strict";e.assign=n(22),e.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},e.isStartWith=function(t,e){return 0===t.indexOf(e)},e.isEndWith=function(t,e){var n=t.length,a=e.length;return n>=a&&t.indexOf(e)==n-a},e.any=function(t,e){var n,a=t.length;for(n=0;n<a;n++)if(e(t[n]))return!0;return!1},e.isNumber=function(t){return"number"==typeof t},e.isContain=function(t,e){return t.indexOf(e)>-1};var a=function(t){var e,n=t.constructor===Array?[]:{};if("object"==typeof t){if(JSON&&JSON.parse)e=JSON.stringify(t),n=JSON.parse(e);else for(var o in t)n[o]="object"==typeof t[o]?a(t[o]):t[o];return n}};e.cloneDeep=a},function(t,e){t.exports=function(t,e){return"function"!=typeof Object.assign?function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}(t,e):Object.assign({},t,e)}},function(t,e,n){"use strict";var a=n(24),o=n(25);t.exports={tryToDecodeURIComponent:function(t,e){var n=e||"";if(t)try{n=decodeURIComponent(t)}catch(t){}return n},parseSemicolonContent:function(t,e,n){e=e||{};var o,r,i=t.split(";"),s=i.length;for(o=0;o<s;o++){r=i[o].split("=");var u=a.trim(r.slice(1).join("="));e[a.trim(r[0])||""]=n?u:this.tryToDecodeURIComponent(u)}return e},nodeListToArray:function(t){var e,n;try{return e=[].slice.call(t)}catch(o){e=[],n=t.length;for(var a=0;a<n;a++)e.push(t[a]);return e}},getLsCna:function(t,e){if(o.set&&o.test()){var n="",a=o.get(t);if(a){var r=a.split("_")||[];n=e?r.length>1&&e===r[0]?r[1]:"":r.length>1?r[1]:""}return decodeURIComponent(n)}return""},setLsCna:function(t,e,n){n&&o.set&&o.test()&&o.set(t,e+"_"+encodeURIComponent(n))},getUrl:function(t){var e=t||"//log.mmstat.com/eg.js";try{var n=aplus.getMetaInfo("aplus-rhost-v"),a=/[[a-z|\-|\_|0-9\.]+[a-z|\-|\_|0-9](:\d*)?/,o=n.match(a);o&&o[0]&&(e="//"+o[0]+"/eg.js")}catch(t){}return e}}},function(t,e){"use strict";function n(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):""}e.trim=n},function(t,e){"use strict";t.exports={set:function(t,e){try{return localStorage.setItem(t,e),!0}catch(t){return!1}},get:function(t){try{return localStorage.getItem(t)}catch(t){return""}},test:function(){var t="grey_test_key";try{return localStorage.setItem(t,1),localStorage.removeItem(t),!0}catch(t){return!1}},remove:function(t){localStorage.removeItem(t)}}},function(t,e){"use strict";var n="[aplus log]: ";e.logger=function(t){t||(t={});var e=t.level||"warn";console&&console[e]&&console[e](n+t.msg)}},function(t,e){"use strict";t.exports=function(t,e){var n,a=t.length;for(n=0;n<a;n++){var o=e(t[n],n);if("break"===o)break}}},function(t,e){"use strict";e.tryToGetAttribute=function(t,e){return t&&t.getAttribute?t.getAttribute(e)||"":""};var n=function(t,e,n){if(t&&t.setAttribute)try{t.setAttribute(e,n)}catch(t){}};e.tryToSetAttribute=n,e.tryToRemoveAttribute=function(t,e){if(t&&t.removeAttribute)try{t.removeAttribute(e)}catch(a){n(t,e,"")}}},function(t,e,n){"use strict";function a(t){return i=i||document.getElementsByTagName("head")[0],s&&!t?s:i?s=i.getElementsByTagName("meta"):[]}function o(t,e){var n,o,r,i=a(),s=i.length;for(n=0;n<s;n++)o=i[n],u.tryToGetAttribute(o,"name")===t&&(r=u.tryToGetAttribute(o,e||"content"));return r||""}function r(t){var e={isonepage:"-1",urlpagename:""},n=t.qGet();if(n&&n.hasOwnProperty("isonepage_data"))e.isonepage=n.isonepage_data.isonepage,e.urlpagename=n.isonepage_data.urlpagename;else{var a=o("isonepage")||"-1",r=a.split("|");e.isonepage=r[0],e.urlpagename=r[1]?r[1]:""}return e}var i,s,u=n(28);e.getMetaTags=a,e.getMetaCnt=o,e.getOnePageInfo=r},function(t,e,n){"use strict";var a=n(18).nameStorage;e.getRefer=function(t){return document.referrer||a.getItem(t.REFERRER)||""}},function(t,e,n){"use strict";var a=n(32),o=n(3),r=n(18).nameStorage,i=n(30);t.exports=function(){return{recordValInWindowName:function(){var t,e,n=o.HTTPS==location.protocol,a=aplus.globalConfig.NAMESTORAGE_KEYS||{},s=parent!==self;if(!s&&n){var u=location.href,c=n&&(u.indexOf("login.taobao.com")>=0||u.indexOf("login.tmall.com")>=0),p=i.getRefer(a);c&&p?(t=p,e=r.getItem(a.REFERRER_PV_ID)):(t=u,e=aplus.pvid),r.setItem(a.REFERRER,t),r.setItem(a.REFERRER_PV_ID,e)}},run:function(){var t=this;a.on(window,"beforeunload",function(){t.recordValInWindowName()})}}}},function(t,e,n){"use strict";function a(t,e,n){var a=aplus._$||{},o=a.meta_info||{},r=o.aplus_ctap||{},i=o["aplus-touch"];if(r&&"function"==typeof r.on)r.on(t,e);else{var u="ontouchend"in document.createElement("div");!u||"tap"!==i&&"tapSpm"!==n&&"tap"!==n?s(t,u?"touchstart":"mousedown",e):c.on(t,e)}}function o(t){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(function(){o(t)},1)}t()}function r(t){var e=0,n=function(){0===e&&t(),e++};"complete"===document.readyState&&n();var a;if(document.addEventListener)a=function(){document.removeEventListener("DOMContentLoaded",a,!1),n()},document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",n,!1);else if(document.attachEvent){a=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),n())},document.attachEvent("onreadystatechange",a),window.attachEvent("onload",n);var r=!1;try{r=null===window.frameElement}catch(t){}document.documentElement.doScroll&&r&&o(n)}}function i(t){"complete"===document.readyState?t():s(window,"load",t)}function s(){var t=window,e=arguments;if(2===e.length)"DOMReady"===e[0]&&r(e[1]),"onload"===e[0]&&i(e[1]);else if(3===e.length){var n=e[0],o=e[1],s=e[2];if("tap"===o||"tapSpm"===o)a(n,s,o);else{var c=document.attachEvent?"attachEvent":"addEventListener",p=!!document.attachEvent;n[c]((p?"on":"")+o,function(e){e=e||t.event;var n=e.target||e.srcElement;"function"==typeof s&&s(e,n)},!!u(o)&&{passive:!0})}}}var u=n(33),c=n(34);e.DOMReady=r,e.onload=i,e.on=s},function(t,e){var n;t.exports=function(t){if("boolean"==typeof n)return n;if(!/touch|mouse|scroll|wheel/i.test(t))return!1;n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,e)}catch(t){}return n}},function(t,e){"use strict";function n(t,e){return t+Math.floor(Math.random()*(e-t+1))}function a(t,e,n){var a=document.createEvent("HTMLEvents");if(a.initEvent(e,!0,!0),"object"==typeof n)for(var o in n)a[o]=n[o];t.dispatchEvent(a)}function o(t){var e=document.documentElement;0===Object.keys(p).length&&(e.addEventListener(f,r,!1),e.addEventListener(g,i,!1),e.addEventListener(_,i,!1));for(var n=0;n<t.changedTouches.length;n++){var a=t.changedTouches[n],o={};for(var s in a)o[s]=a[s];var u={startTouch:o,startTime:Date.now(),status:d,element:t.srcElement||t.target};p[a.identifier]=u}}function r(t){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],a=p[n.identifier];if(!a)return;var o=n.clientX-a.startTouch.clientX,r=n.clientY-a.startTouch.clientY,i=Math.sqrt(Math.pow(o,2)+Math.pow(r,2));(a.status===d||"pressing"===a.status)&&i>10&&(a.status="panning")}}function i(t){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=n.identifier,s=p[o];s&&(s.status===d&&t.type===g&&(s.timestamp=Date.now(),a(s.element,h,{touch:n,touchEvent:t})),delete p[o])}var u=document.documentElement;0===Object.keys(p).length&&(u.removeEventListener(f,r,!1),u.removeEventListener(g,i,!1),u.removeEventListener(_,i,!1))}function s(t){t.__fixTouchEvent||(t.addEventListener(l,function(){},!1),t.__fixTouchEvent=!0)}function u(){if(!c){var t=document.documentElement;t.addEventListener(l,o,!1),c=!0}}var c=!1,p={},l="touchstart",g="touchend",f="touchmove",d="tapping",_="touchcancel",h="aplus_tap"+n(1,1e5);t.exports={on:function(t,e){u(),t&&t.addEventListener&&e&&(s(t),t.addEventListener(h,e._aplus_tap_callback=function(t){e(t,t.target)},!1))},un:function(t,e){t&&t.removeEventListener&&e&&e._aplus_tap_callback&&t.removeEventListener(h,e._aplus_tap_callback,!1)}}},function(t,e,n){"use strict";var a=n(32),o=n(36);t.exports=function(){return{do_tracker_lostpv:function(t){if(t&&t.page){var e=t.spm_ab?t.spm_ab.split("."):[],n=navigator&&navigator.sendBeacon?"post":"get",a="record_lostpv_by"+n+"_"+t.msg,r=new o({ratio:t.ratio||this.options.config.lostPvRecordRatio});r.run({code:102,page:t.page,msg:a,spm_a:e[0],spm_b:e[1],c1:t.duration,c2:t.page_url})}},recordLostPv:function(t){var e=window.aplus||{},n=e._$=e._$||{},a=e.spm_ab?e.spm_ab.join("."):"0.0",o=n.send_pv_count||0;if(o<1&&navigator&&navigator.sendBeacon){var r=location.hostname+location.pathname;this.do_tracker_lostpv({page:r,page_url:"http://"+r,duration:t,spm_ab:a,msg:"dom_state="+document.readyState})}},run:function(){var t=this,e=new Date;a.on(window,"beforeunload",function(){var n=new Date,a=n.getTime()-e.getTime();t.recordLostPv(a)})}}}},function(t,e,n){var a=n(20),o=n(21),r=n(26),i={ratio:1,logkey:"fsp.1.1",gmkey:"",chksum:"H46747615"},s=function(t){t&&"object"==typeof t||(t=i),this.opts=t,this.opts.ratio=t.ratio||i.ratio,this.opts.logkey=t.logkey||i.logkey,this.opts.gmkey=t.gmkey||i.gmkey,this.opts.chksum=t.chksum||i.chksum},u=s.prototype;u.getRandom=function(){return Math.floor(100*Math.random())+1},u.run=function(t,e){var n,i,s={pid:"aplus",code:101,msg:"异常内容"},u="";try{var c=window.aplus||{},p=c._$||{},l=p.meta_info||{},g=parseFloat(l["aplus-tracker-rate"]);if(n=this.opts||{},"number"==typeof g&&g+""!="NaN"||(g=n.ratio),i=this.getRandom(),e||i<=100*g){u="//gm.mmstat.com/"+n.logkey,t.rel=c.globalConfig.script_name+"@"+c.globalConfig.lver,t.type=t.code,t.uid=encodeURIComponent(c.getCookieCna("cna")),t=o.assign(s,t);var f=a.obj2param(t);c.tracker=c.send(u,{cache:o.makeCacheNum(),gokey:f,logtype:"2"},"POST")}}catch(t){r.logger({msg:"tracker.run() exec error: "+t})}},t.exports=s},function(t,e,n){"use strict";var a=n(2);t.exports=function(){return{run:function(){var t=a.getGlobalValue("aplus");if(!t._aplus_cplugin_m){var e=this.options.config;t._aplus_cplugin_m=n(38).run(e)}}}}},function(t,e,n){"use strict";var a=n(26),o=n(36),r=navigator&&navigator.sendBeacon?"post":"get";e.run=function(t){return{status:"complete",do_tracker_jserror:function(e){try{var n=new o({logkey:e?e.logkey:"",ratio:e&&"number"==typeof e.ratio&&e.ratio>0?e.ratio:t.jsErrorRecordRatio}),i=["Message: "+e.message,"Error object: "+e.error].join(" - "),s=aplus.spm_ab||[],u=location?location.hostname+location.pathname:"";n.run({code:110,page:u,msg:"record_jserror_by"+r+"_"+e.message,spm_a:s[0],spm_b:s[1],c1:i,c2:e.filename,c3:location?location.protocol+"//"+u:""})}catch(t){a.logger({msg:t})}},do_tracker_browser_support:function(e){var n=!1;try{if(e&&e.page){var i=e.spm_ab?e.spm_ab.split("."):[],s=new o({ratio:e.ratio||t.browserSupportRatio}),u=aplus._aplus_client||{},c=u.ua_info||{};s.run({code:111,page:e.page,msg:e.msg+"_by"+r,spm_a:i[0],spm_b:i[1],c1:[c.o,c.b,c.w].join("_"),c2:e.etag||"",c3:e.cna||""}),n=!0}}catch(t){a.logger({msg:t})}return n}}}},function(t,e,n){"use strict";t.exports=function(){return{run:function(){var t=n(40),e=t.create({WS:null,CTX:window,CTX_TYPE:"WEB"});e.run(this.options)}}}},function(t,e,n){"use strict";var a,o=n(41),r=n(2),i=r.getGlobalValue("aplus"),s=n(42),u=n(44),c=n(48),p=n(3),l=n(25),g=n(53),f=n(26);t.exports=s.extend({handlerMiddleware:function(t){var e=o.changeToObj(t.what_to_send.logdata);c().setDebug(!!i.getMetaInfo("DEBUG"));var n,r=u(e,t.userdata);i._h5_share_enable?n="POST":(n=t.where_to_send.method,"POST"===n&&navigator&&navigator.sendBeacon||(r="d="+encodeURIComponent(r))),c().i("event before send to: ",t.where_to_send.url),a||(a=(new Date).getTime()),a&&a-(new Date).getTime()>p.SHARE_CACHE_INTERVAL&&i._h5_share_enable&&(l.remove("__sharefrom"),l.remove("__fromappkey"),l.remove("_um_ssrc"),l.remove("_um_channel"),l.remove("_um_campaign")),i._h5_share_enable?g.request4um({url:t.where_to_send.url,method:n,data:r,success:function(t){t&&t.imprint&&l.set(p.IMPRINT,t.imprint)},error:function(t){f.logger({msg:"aplus weblogs error: "+t})}}):i.send(t.where_to_send.url,r,n)}})},function(t,e,n){"use strict";var a=n(2);e.getKeyIndex=function(t){var e={protocol:1,event_args:25};return e[t]};var o="-";e.changeToArray=function(t,e){var n=a.getGlobalValue("aplus"),r=e.event_timestamp.getTime().toString(),i=e.client||{},s=i.screenWidth||"",u=i.screenHeight||"",c=s+"*"+u,p=s&&u?c:o,l=i.language||o,g=e.gokey||{},f=JSON.stringify(g),d=JSON.stringify({customSdkId:e.sdk_info.customSdkId||"",platform_type:e.sdk_info.platformType||""}),_=e.appKey||e.appId||o,h=JSON.stringify({appId:i.appId||n.getMetaInfo("miniAppId")||""}),m=JSON.stringify(e.sessionArgs||{}),v=JSON.stringify(e.globalArgs||{}),y=e.arg1||e.logkey||o;0===y.indexOf("/$$_")&&(y=y.substring(1,y.length)),"2001"===e.event_code&&e.trackerEventCode&&(y=e.trackerEventCode);var b=[e.cache,e.method||"GET",o,p,_,h,e._dev_id||o,"{}",e._user_nick||o,e._user_id||o,e._anony_id||o,"{}",l,e.timeZone||o,i.os||o,i.os_version||o,d,e._session_id||o,e.cna||o,r,encodeURIComponent(e.url)||o,e.event_code||o,encodeURIComponent(e.pre)||o,v,m,f,y,e.sdk_info.jsver,e.sdk_info.lver,i.appVersion||"devtools"||o,i.brand||o,o,i.networkType||o];return b},e.changeToObj=function(t){var e=t.event_timestamp.getTime().toString(),n=t.client||{},a=n.language||o,r=t.gokey||{},i=JSON.stringify(r),s=JSON.stringify({customSdkId:t.sdk_info.customSdkId||"",platform_type:t.sdk_info.platformType||""}),u=t.appKey||t.appId||o,c=JSON.stringify({appId:n.appId||aplus.getMetaInfo("miniAppId")||""}),p=JSON.stringify(t.sessionArgs||{}),l=JSON.stringify(t.globalArgs||{}),g=t.arg1||t.logkey||o;0===g.indexOf("/$$_")&&(g=g.substring(1,g.length)),"2001"===t.event_code&&t.trackerEventCode&&(g=t.trackerEventCode);var f={};f.platform=t.sdk_info.platformType||"",f.sdk_type=f.platform?f.platform+"mp":"",f.appkey=u,f.sdk_version=t.sdk_info.lver,f.device_type=n.device_model||"",f.os=n.os||"",f.os_version=n.os_version||"",f.jsver=t.sdk_info.jsver,f.pixel_ratio=window.devicePixelRatio||"";
var d=Math.round(n.screenWidth*(window.devicePixelRatio||1)),_=Math.round(n.screenHeight*(window.devicePixelRatio||1));f.resolution=d>_?d+"*"+_:_+"*"+d,f.language=a,f.app_version=aplus.getMetaInfo("appVersion")||"devtools",f.arg1=g,f.event_args=i,f.event_code=t.event_code||"",f.sessionArgs=p,f.global_args=l,f.app_ext_info=c,f.time=e,f.cna=t.cna||"",f.url=t.url||"",f.pre=t.pre||"",f.method=t.method||"GET",f.log_id=t.cache||"",f.sdk_info=s;var h=aplus.getMetaInfo("aplus-exdata");return h&&h.aplus_track_debug_id&&(f.track_debug_id=h.aplus_track_debug_id),f}},function(t,e,n){"use strict";var a=n(11),o=n(43),r=n(3);t.exports=a.extend({subscribeLogs:function(t,e){o.pushIntoGoldlogQueue(r.SUBSCRIBE,[t,function(t){t.status===r.COMPLETE&&e(t)}])},getLogicSymbol:function(){return"ALI"===this.format?"&":"||"},handlerMiddleware:function(){},watchLOG:function(){var t=this;t.subscribeLogs(r.MW_CHANGE_PV,function(e){t.handlerMiddleware(e,"pv")}),t.subscribeLogs(r.MW_CHANGE_HJLJ,function(e){t.handlerMiddleware(e,r.APLUS)})},run:function(){this.watchLOG()}})},function(t,e,n){"use strict";var a=n(2);e.pushIntoGoldlogQueue=function(t,e){var n=a.getGlobalValue("aplus_queue"),o=a.getGlobalValue("aplus"),r=t.split("."),i=o[r[1]],s=i?i[r[2]]:null;o&&2===r.length&&i?i.apply(o,e):3===r.length&&s?s.apply(i,e):n.push({action:t,arguments:e})}},function(t,e,n){function a(){if(f._h5_share_enable){var t={},e=v.get("__sharefrom"),n=v.get("__fromappkey"),a=v.get("_um_ssrc"),o=v.get("_um_channel"),r=v.get("_um_campaign");return e&&(t.sharefrom=e),n&&(t.fromappkey=n),a&&(t._um_ssrc=a),o&&(t._um_channel=o),r&&(t._um_campaign=r),t}}function o(t,e){try{var n={},o=f.getMetaInfo("globalproperty");o&&(n.gp=o);var r,s=e.gokey;r="string"==typeof s?JSON.parse('{"'+s.replace(/\&/g,'","').replace(/\=/g,'":"')+'"}',function(t,e){return""===t?e:decodeURIComponent(e)}):"object"==typeof s?i(s):{},t.url&&(n.page_name=f.getPageName()||r.spmB||r["data-pagename"]||r.page_name||t.url||"-",n.url=t.url||"-",n.page_name&&r.spmC&&(n["spm-cnt"]=[encodeURIComponent(n.page_name),encodeURIComponent(r.spmC),encodeURIComponent(r.spmD)].filter(function(t){return!!t}).join("."),delete r.spmC,delete r.spmD,delete r.spmB));var u=i(r);for(var p in u)"string"==typeof p&&c.startsWith(p,"_")&&(n[p]=u[p],delete r[p]);n=m.assign(n,a()||{}),n.is_auto=e.gokey&&"string"==typeof e.gokey&&e.gokey.match("is_auto")?1:0;var l=_(e.logkey,m.assign(n,{cusp:r}));return l}catch(t){return console.warn("JSON parse failed",t),{}}}function r(t,e){var n=f.getMetaInfo("globalproperty"),o={};o.r=t.arg1,n&&(o.gp=n),o.is_auto=t.is_auto?1:0;var r=e,s=i(c.deleteInfo(r,["_anony_id","_dev_id","_session_id","_user_id","_user_nick","_src_pos_id"]));if(s.duration&&(o.duration=s.duration,delete s.duration),t.url&&(o.page_name=f.getPageName()||s.spmB||s.page_name||document.body.dataset&&document.body.dataset.pagename||t.url||"-",o.url=t.url,o["spm-cnt"]=encodeURIComponent(o.page_name)),t.pre&&(o.ref_url=t.pre||"-",f._h5_share_enable&&o.ref_url.length>1)){var u=o.ref_url.match(/(\w|-)+\.(\w|-)+\.(\w|-)+/);u&&u.length>0&&(o._um_referer_domain=u[0])}return o=m.assign(o,a()||{}),_(g.PAGE_START,m.assign(o,{cusp:s}))}var i=n(45),s=n(46),u=n(2),c=n(47),p=n(49),l=n(50),g=n(3),f=u.getGlobalValue("aplus"),d=n(51),_=n(52),h=n(48),m=n(21),v=n(25);t.exports=function(t,e){if(!t||!e||c.checkEmptyObj(t)||c.checkEmptyObj(e))return{};var n={},a=i(s(t)),u=f.getMetaInfo(g._ANONY_ID)||t.cna;u&&(a.anony_id=u,a.id_tracking.anony_id=u);var _=f.getMetaInfo("_dev_id")||t.cna;if(_&&(a.dev_id=_,a.id_tracking.dev_id=_),f._h5_share_enable){var m=f.getMetaInfo("uuid");m&&(a.id_tracking.ud=m);var y=f.getMetaInfo("openid");y&&(a.id_tracking.openid=y);var b=f.getMetaInfo("unionid");b&&(a.id_tracking.unionid=b);var E=f.getMetaInfo("anouymousopenid");E&&(a.id_tracking.anonymousid=E);var w=f.getMetaInfo("alipayid");w&&(a.id_tracking.alipay_id=w);var I=f.getMetaInfo("swanid");I&&(a.id_tracking.anonymousid=I);var x=f.getMetaInfo(g.USER_PROFILE_KEY);x&&(a.user_info=x);var S=v.get(g.IMPRINT);S&&(a.imprint=S);var P=f.getMetaInfo(g.ID_TYPE)||"cnaid";a.id_type=P}var T=null;T="2001"===t.event_code?r(t,e):o(t,e),T&&(n={analytics:{ekvs:{sessionid:[i(T)]}}});var A=f.getMetaInfo(g._USER_ID);A&&n.analytics&&(n.analytics.active_user={puid:A,provider:f.getMetaInfo("_user_nick")}),n.header=c.assign(a,n.header,{ts:Date.now(),traceId:c.getRandomStr(10)+Date.now()+c.getRandomStr(9)});var C=p(n),k=d.stringfy(C);return h().i("event data: ",C),l.encode(k)}},function(t,e){function n(t){var e,a=Array.isArray(t)?[]:{};if("object"==typeof t){if(JSON&&JSON.parse)e=JSON.stringify(t),a=JSON.parse(e);else for(var o in t)a[o]="object"==typeof t[o]?n(t[o]):t[o];return a}}t.exports=n},function(t,e){t.exports=function(t){var e={};return e.sdk_type=t.sdk_type,e.appkey=t.appkey,e.sdk_version=t.sdk_version,e.device_type=t.device_type,e.os=t.os,e.os_version=t.os_version,e.platform=t.platform,e.pixel_ratio=t.pixel_ratio,e.resolution=t.resolution,e.language=t.language,e.app_version=t.app_version,e.jsver=t.jsver,e.pre=t.pre,e.url=t.url,e.debugId=t.track_debug_id,e.id_tracking={},e}},function(t,e,n){e.getRandomStr=function(t){for(var e="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a=0;a<Number(t);a++){var o=Math.round(Math.random()*(n.length-1));e+=n[o]}return e},e.startsWith=function(t,e){return!(!t||!e||0===e.length||e.length>t.length)&&t.substr(0,e.length)===e},e.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},e.checkEvent=function(t,e){var a=n(3),o=n(48);if(!t||"string"!=typeof t)return o().e('please check trackEvent id. id should be "string" and not null'),!1;var r=["id","du"],i={};if(r.forEach(function(t){i[t]=1}),i[t])return o().e("eventId不能与以下保留字冲突: "+r.join(",")),!1;if(t.length>a.MAX_EVENTID_LENGTH)return o().e("The maximum length of event id shall not exceed "+a.MAX_EVENTID_LENGTH),!1;if(e&&("object"!=typeof e||Array.isArray(e))&&"string"!=typeof e)return o().e("please check trackEvent properties. properties should be string or object(not include Array)"),!1;if("object"==typeof e){var s=0;for(var u in e)if({}.hasOwnProperty.call(e,u)){if(u.length>a.MAX_PROPERTY_KEY_LENGTH)return o().e("The maximum length of property key shall not exceed "+a.MAX_PROPERTY_KEY_LENGTH),!1;if(s>=a.MAX_PROPERTY_KEYS_COUNT)return o().e("The maximum count of properties shall not exceed "+a.MAX_PROPERTY_KEYS_COUNT),!1;if(i[u])return o().e("属性中的key不能与以下保留字冲突: "+r.join(",")),!1;s+=1}}return!0};var a=n(27);e.deleteInfo=function(t,e){return a(e,function(e){delete t[e]}),t},e.checkEmptyObj=function(t){return"object"!=typeof t||0===Object.keys(t).length},e.DataType={HALF_SESSION:"half_session",CLOSE_SESSION:"close_session",EKV:"ekv",ENTER_PAGE:"enter_page",LEAVE_PAGE:"leave_page"},e.AccessType={MOBILE_NETWORK_2G:"2g",MOBILE_NETWORK_3G:"3g",MOBILE_NETWORK_4G:"4g",MOBILE_NETWORK_NONE:"none"}},function(t,e){var n="[APLUS] -- ";t.exports=function(){function t(){this.setDebug=function(t){a=t},this.d=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.debug.apply(console,arguments)}catch(t){}},this.i=function(){try{if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.info.apply(console,arguments)}catch(t){}}catch(t){}},this.e=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.error.apply(console,arguments)}catch(t){}},this.w=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.warn.apply(console,arguments)}catch(t){}},this.v=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.log.apply(console,arguments)}catch(t){}},this.t=function(){if(a)try{console.table.apply(console,arguments)}catch(t){}},this.tip=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.log.apply(console,arguments)}catch(t){}},this.tip_w=function(t){try{console.log("%c "+n+t,"background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;")}catch(t){}},this.err=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.error.apply(console,arguments)}catch(t){}},this.repeat=function(t){for(var e=t;e.length<86;)e+=t;return e}}var e=null,a=!1;return function(){return null===e&&(e=new t),e}}()},function(t,e){function n(t,e){var n=a(t,e);return t&&t.id_tracking&&(n[e.id_tracking||"id_tracking"]=a(t.id_tracking,s)),n}function a(t,e){var n={};for(var a in t)e[a]?n[e[a]]=t[a]:n[a]=t[a];return n}function o(t,e){var n={};if(t)for(var a in t)t[a]&&(n[e[a]]=t[a]);return n}var r={ekvs:"e",active_user:"active_user"},i={sdk_type:"sdt",device_model:"dm",language:"lang",device_type:"dt",os_version:"ov",appkey:"ak",sdk_version:"sv",resolution:"rl",testToken:"ttn",pixel_ratio:"pr",_id:"id",id_type:"it",id_tracking:"itr",imprint:"imp",debugId:"dk"},s={uuid:"ud",unionid:"und",openid:"od",anonymousid:"nd",alipay_id:"ad",device_id:"dd",userid:"puid"};t.exports=function(t){return{h:n(t.header,i),a:o(t.analytics,r)}}},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var e={},n=0,a=t.length;n<a;n++)e[t.charAt(n)]=n;return e}(n),o=String.fromCharCode,r=function(t){var e;return t.length<2?(e=t.charCodeAt(0),e<128?t:e<2048?o(192|e>>>6)+o(128|63&e):o(224|e>>>12&15)+o(128|e>>>6&63)+o(128|63&e)):(e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320),o(240|e>>>18&7)+o(128|e>>>12&63)+o(128|e>>>6&63)+o(128|63&e))},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(t){return t.replace(i,r)},u=function(t){var e=[0,2,1][t.length%3],a=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),o=[n.charAt(a>>>18),n.charAt(a>>>12&63),e>=2?"=":n.charAt(a>>>6&63),e>=1?"=":n.charAt(63&a)];return o.join("")},c=function(t){return t.replace(/[\s\S]{1,3}/g,u)},p=function(t){return c(s(t))},l=function(t,e){return e?p(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/\=/g,""):p(String(t))},g=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),f=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return o((n>>>10)+55296)+o((1023&n)+56320);case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},d=function(t){return t.replace(g,f)},_=function(t){var e=t.length,n=e%4,r=(e>0?a[t.charAt(0)]<<18:0)|(e>1?a[t.charAt(1)]<<12:0)|(e>2?a[t.charAt(2)]<<6:0)|(e>3?a[t.charAt(3)]:0),i=[o(r>>>16),o(r>>>8&255),o(255&r)];return i.length-=[0,0,2,1][n],i.join("")},h=function(t){return t.replace(/[\s\S]{1,4}/g,_)},m=function(t){return d(h(t))},v=function(t){return m(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};e.encode=l,e.decode=v},function(t,e){e.stringfy=function(t){if(t)try{return JSON.stringify(t)}catch(t){}return""},e.parse=function(t){if(t)try{return JSON.parse(t)}catch(t){}return null},e.parseToArray=function(t){if(t)try{return JSON.parse(t)}catch(t){}return[]}},function(t,e,n){var a=n(2);t.exports=function(t,e){if("string"!=typeof t)return null;var n=Object.create(null);n.id=t,e&&e.ts||(n.ts=Date.now());var o=typeof e;if("object"===o)for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);var i=a.getGlobalValue("aplus"),s=i.getMetaInfo("globalproperty");return s&&(n.gp=s),n}},function(t,e,n){"use strict";var a=n(3),o={base:1e4,timeout:1e4},r=function(t,e,n,r){/^\/\//.test(t)&&(t=a.HTTPS+t);var i=!0,s=r&&r.timeout?r.timeout:o.timeout;setTimeout(function(){i&&(i=!1,n({timeout:s}))},s),window.fetch(t).then(function(t){return/application\/json/.test(t.headers.get("content-type"))?t.json():t.text()}).then(function(t){i&&(e(t),i=!1)}).catch(function(t){i&&n(t)})},i=function(t,e,n,a){var r,i="GET",s=function(){r.responseText?e(r.responseText):n()},u=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;u?(r=new XMLHttpRequest,r.open(i,t,!0)):(r=new window.XDomainRequest,r.open(i,t));var c=a&&a.timeout?a.timeout:o.timeout;r.timeout=c,r.onload=s,r.onerror=n,r.ontimeout=n,r.send()},s=function(t,e,n,a){window.fetch?r(t,e,n,a):i(t,e,n,a)},u=function(t,e){t=t||{},t.method=(t.method||"POST").toUpperCase(),t.url=t.url||"",t.data=t.data||null,t.success=t.success||function(){},t.error=t.error||function(){};var n=new XMLHttpRequest,a=[];for(var o in t.data)a.push(o+"="+encodeURIComponent(t.data[o]));var r=a.join("&"),i=JSON.stringify(t.data||{});"POST"===t.method?(n.open(t.method,t.url,!0),n.setRequestHeader("Content-Type",e||"application/json")):"GET"===t.method&&n.open(t.method,t.url+"?"+r,!0),n.withCredentials=!0,n.timeout=3e3,n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e={};try{e=JSON.parse(n.responseText)}catch(t){}t.success(e)}else 4==n.readyState&&t.error(n.staus)},"POST"===t.method?n.send(i):n.send()};e.request=s,e.request4um=u},function(t,e,n){"use strict";var a=n(27);t.exports=function(){return{getLogConfig:function(){var t={},e=this.options.config.plugins;for(var n in e)t[n]={plugins:e[n],context:{}},a(e[n],function(e){t[n].context[e.name]=e.config||{}});return t},run:function(){this.options.context.logConfig=this.getLogConfig(),this.options.context.logConfig.pageLoadTime=this.options.context.PAGE_LOAD_TIME}}}},function(t,e,n){"use strict";var a=n(56),o=n(23),r=n(58),i=n(59),s=n(2);t.exports=function(){var t=n(60);return{init:function(t){this.options=t;var e=this.options.context.etag||{};this.cna=e.cna||a.getCookieCna("cna"),this.setTag(0),this.setStag(-1),this.setLsTag("-1"),this.setEtag(this.cna||""),this.requesting=!1,this.today=r.getFormatDate()},setLsTag:function(t){this.lstag=t,this.options.context.etag.lstag=t},setTag:function(t){this.tag=t,this.options.context.etag.tag=t},setStag:function(t){this.stag=t,this.options.context.etag.stag=t},setEtag:function(t){this.etag=t,this.options.context.etag.cna=t,a.getCookieCna("cna")!==t&&a.setCookieCna("cna",t,{SameSite:"none"})},setLscnaStatus:function(t){this.options.context.etag.lscnastatus=t},run:function(e,n){var a=this,r=s.getGlobalValue("aplus");if(a.cna)return void a.setTag(1);var u=null,c=r._$.meta_info["aplus-rhost-v"];if(c){this.options.context.etag.egUrl=c+"/eg.js";var p=i.getUrl(this.options.context.etag||{});a.requesting=!0;var l=function(){setTimeout(function(){n()},20),clearTimeout(u)},g=this.options.context.etag.unittest,f=g||t.loadScript;f(p,function(t){var e,n;if(t&&"error"===t.type?a.setStag(-3):(e=s.getGoldlogVal("Etag"),e&&a.setEtag(e),n=s.getGoldlogVal("stag"),"undefined"!=typeof n&&a.setStag(n)),a.requesting){var i=r.globalConfig||{};if(2===n||4===n){var u=o.getLsCna(i.ETAG_STORAGE_KEY);u?(a.setLsTag(1),a.setEtag(u)):(a.setLsTag(0),o.setLsCna(i.ETAG_STORAGE_KEY,a.today,e))}l()}});var d=r.getMetaInfo("aplus-etag-timeout"),_=200,h=_;try{h=parseInt(d),(NaN===h||h<200)&&(h=_)}catch(t){}return u=setTimeout(function(){a.requesting=!1,a.setStag(-2),n()},h-100),h}}}}},function(t,e,n){"use strict";function a(t){if(!document)return"";var e=document.cookie.match(new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"));return e?e[1]:""}function o(t){var e=new Date,n="";return"session"===t.expires||(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)?("number"==typeof t.expires?e.setTime(e.getTime()+24*t.expires*60*60*1e3):e=t.expires,n="expires="+e.toUTCString()):(e.setTime(e.getTime()+63072e7),n="expires="+e.toUTCString())),n}function r(t,e,n){if(document){n||(n={}),e+=";"+(n.expires||o(n)),e+="; path="+(n.path?n.path:"/"),e+="; domain="+n.domain,document.cookie=t+"="+e;var r=0;try{var i=navigator.userAgent.match(/Chrome\/\d/);i&&i[0]&&(r=i[0].split("/")[1],r&&(r=parseInt(r)))}catch(t){}return n.SameSite&&r>=8&&(e+="; SameSite="+n.SameSite,e+="; Secure",document.cookie=t+"="+e),a(t)}}function i(t,e,n){try{if(!document)return"";if(n||(n={}),n.domain)r(t,e,n);else for(var a=u.getDomains(),o=0;o<a.length;)n.domain=a[o],r(t,e,n)?o=a.length:o++}catch(t){}}var s=n(27),u=n(57);e.getCookie=a,e.trySetCookie=r,e.setCookie=i;var c=["tracknick","thw","cna"];e.getData=function(){var t={};if(s(c,function(e){t[e]=a(e)}),location){var e=location.hostname;t.cnaui=/\btanx\.com$/.test(e)?a("cnaui"):""}return t},e.getHng=function(){return encodeURIComponent(a("hng")||"")},e.getCookieCna=function(t){return a(t)||a("_"+t)},e.setCookieCna=function(t,e,n){for(var a=u.getDomains(),i=0;i<a.length;)if(n.domain=a[i],r(t,e,n))i=a.length;else{if(i===a.length-1){var s=e+";"+o(n);s+="; path=/",document.cookie="_"+t+"="+s}i++}}},function(t,e){"use strict";e.getDomains=function(){var t=[];try{for(var e=location.hostname,n=e.split("."),a=2;a<=n.length;)t.push(n.slice(n.length-a).join(".")),a++}catch(t){}return t}},function(t,e){"use strict";function n(t,e,n){var a=""+Math.abs(t),o=e-a.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}e.getFormatDate=function(t){var e=new Date;try{return[e.getFullYear(),n(e.getMonth()+1,2,0),n(e.getDate(),2,0)].join(t||"")}catch(t){return""}}},function(t,e,n){"use strict";var a=n(23);e.getUrl=function(t){var e=a.getUrl(t&&t.egUrl);if(0!==e.indexOf("http")){var n="https:";/(\d+\.){3,}\d+/.test(e)&&(n="http:"),e=n+e}return e}},function(t,e,n){"use strict";function a(){return i||(i=document.getElementById("beacon-aplus")||document.getElementById("tb-beacon-aplus")),i}function o(t){var e=a(),n=s.tryToGetAttribute(e,"cspx");t&&n&&(t.nonce=n)}var r,i,s=n(28),u=n(3);e.getCurrentNode=a,e.addScript=function(t,e,n){var i="script",s=document.createElement(i);s.type="text/javascript",s.async=!0;var c=a(),p=c&&c.hasAttribute("crossorigin");p&&(s.crossOrigin="anonymous");var l=u.HTTPS===location.protocol?e||t:t;0===l.indexOf("//")&&(l=u.HTTPS+l),s.src=l,n&&(s.id=n),o(s);var g=document.getElementsByTagName(i)[0];r=r||document.getElementsByTagName("head")[0],g?g.parentNode.insertBefore(s,g):r&&r.appendChild(s)},e.loadScript=function(t,e){function n(t){a.onreadystatechange=a.onload=a.onerror=null,a=null,e(t)}var a=document.createElement("script");if(r=r||document.getElementsByTagName("head")[0],a.async=!0,"onload"in a)a.onload=n;else{var i=function(){/loaded|complete/.test(a.readyState)&&n()};a.onreadystatechange=i,i()}a.onerror=function(t){n(t)},a.src=t,o(a),r.appendChild(a)},e.isTouch=function(){return"ontouchend"in document.createElement("div")}},function(t,e,n){"use strict";var a=n(2),o=n(3);t.exports=function(){return{getMetaInfo:function(){var t=a.getGoldlogVal("_$")||{},e=t.meta_info;return e},getAplusWaiting:function(){var t=this.getMetaInfo()||{};return t["aplus-waiting"]},run:function(t,e){var n=this.options.config||{},a=this.getAplusWaiting();if(a&&n.is_auto)switch(a=this.getAplusWaiting()+"",this.options.context.when_to_sendpv={aplusWaiting:a},a){case o._USER_ID:case o._ANONY_ID:case"MAN":return"done";case"1":return this.options.context.when_to_sendpv.isWait=!0,setTimeout(function(){e()},6e3),6e3;default:var r=1*a;if(r+""!="NaN")return this.options.context.when_to_sendpv.isWait=!0,setTimeout(function(){e()},r),r}}}}},function(t,e,n){"use strict";var a=n(63),o=n(2),r=n(26),i="POST",s="GET";t.exports=function(){return{getMetaInfo:function(){var t=o.getGoldlogVal("_$")||{},e=t.meta_info;return e},getAplusMetaByKey:function(t){var e=this.getMetaInfo()||{};return e[t]},getRhost:function(){var t=this.getAplusMetaByKey("aplus-rhost-v");return t},getHjljHostUrl:function(t){var e=/^\/\//.test(t)?"":"http://",n="/web_logs",a=e+t+n;return a},getPvHostUrl:function(t){var e=/^\/\//.test(t)?"":"//",n=/\/$/.test(t)?"":"/",o="v.gif";return a.isMobile()&&(o="m.gif"),e+t+n+o},getHostUrl:function(t){var e=/^\/\//.test(t)?"":"http://",n="/web_logs",a=e+t+n;return a},getChannel:function(t){var e,n=this.getAplusMetaByKey("aplus-channel"),a=["WS","WS-ONLY",s,i];return a.indexOf(t)>-1&&(e=t),!e&&a.indexOf(n)>-1&&(e=n),e},run:function(){var t=!!this.options.context.is_single;if(!t){var e=this.options.config.recordType,n=this.getRhost(e);if(!n)return r.logger({msg:"current request domain invalid, please check your aplus-rhost-v value inside metainfo!"}),"done";var a;a="PV"!==e||aplus._h5_share_enable?this.getHjljHostUrl(n):this.getPvHostUrl(n);var o=this.options.config||{},u=this.getChannel(o.method)||i;u!==i||navigator&&navigator.sendBeacon||(u=s),this.options.context.where_to_send.method=o.method,this.options.context.where_to_send.url=a}}}}},function(t,e){"use strict";e.isMobile=function(){var t=navigator?navigator.userAgent:"",e=/AliApp|Yunos|cyclone/i.test(t),n=/iPhone|iPad|iPod/i.test(t),a=/Android/i.test(t),o=/Windows Phone/i.test(t)||/IEMobile/i.test(t)||/WPDesktop/i.test(t),r=/BlackBerry/i.test(t),i=/Opera Mini/i.test(t);return e||n||a||o||r||i}},function(t,e,n){"use strict";var a=n(56),o=n(26),r=n(65),i=n(21),s=n(63),u=n(2),c=n(3),p=u.getGlobalValue("aplus"),l=n(67);t.exports=function(){return{getCommonParams:function(){var t=this.options.context||{},e=t.etag||{},n=t.userdata||{},g=u.getGoldlogVal("_$")||{},f=this.options.config||{},d=s.isMobile()?"WAP":"PC",_={_dev_id:p.getMetaInfo("_dev_id"),_anony_id:p.getMetaInfo(c._ANONY_ID),_user_id:p.getMetaInfo(c._USER_ID),_user_nick:p.getMetaInfo("_user_nick")||a.getCookie("tracknick"),_session_id:p.getMetaInfo("_session_id")},h=f.pageUrl||(location?location.href:"-"),m=f.title||document&&document.title,v=(p.globalConfig.isDecodeUrl?"DC_":"")+r.getLogId(h,m),y=p.getMetaInfo("appKey")||p.getMetaInfo("appId");y||o.logger({msg:"please set appId in aplus metaInfo before sendPV!"});var b=i.assign({appId:y,cache:v,cna:e.cna||a.getCookieCna("cna"),etag:e,pre:g.page_referrer||"-",sdk_info:{jsver:p.globalConfig.script_name,lver:p.globalConfig.lver,customSdkId:p.getMetaInfo("customSdkId")||"",platformType:d.toLowerCase()},trackerEventCode:f.trackerEventCode,title:m,url:h,client:p._aplus_client||{},timeZone:l.getTimeZone(),gokey:_,gmkey:n.gmkey||"",method:this.options.context.where_to_send.method},_);return b},getPvParams:function(){var t=this.getCommonParams();return this.options.config.is_auto||(t.sdk_info.mansndlog=1),i.assign(t,{event_code:"2001",logtype:"1",logkey:s.isMobile()?"/m.gif":"/v.gif",event_timestamp:p._$.send_pv_count>0?new Date:p.logConfig.pageLoadTime})},getHjljParams:function(){var t=this.options.context||{},e=t.userdata||{},n={event_code:c.EVENT_ID_MAP[e.gmkey]||c.OTHER,logtype:"2",logkey:e.logkey,event_timestamp:new Date};return i.assign(this.getCommonParams(),n)},run:function(){var t={};t="PV"===this.options.config.recordType?this.getPvParams():this.getHjljParams(),this.options.context.what_to_send.logdata=t}}}},function(t,e,n){"use strict";function a(t,e,n){return t?o.hash(encodeURIComponent(t)).substr(0,e):n}var o=n(66),r=function(t){function e(t){var e="0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ",n="0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ";return 1==t?e.substr(Math.floor(60*Math.random()),1):2==t?n.substr(Math.floor(60*Math.random()),1):"0"}for(var n,a="",o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=!1;a.length<t;)n=o.substr(Math.floor(62*Math.random()),1),!r&&a.length<=2&&("g"==n.toLowerCase()||"l"==n.toLowerCase())&&(0===a.length&&"g"==n.toLowerCase()?Math.random()<.5&&(n=e(1),r=!0):1==a.length&&"l"==n.toLowerCase()&&"g"==a.charAt(0).toLowerCase()&&(n=e(2),r=!0)),a+=n;return a};e.getLogId=function(t,e){var n=r(8),o=n.substr(0,4),i=n.substr(0,6);return[a(t,4,o),a(e,4,o),i].join("")}},function(t,e){"use strict";e.hash=function(t,e){var n,a,o=1315423911,r=e||o;for(n=t.length-1;n>=0;n--)a=t.charCodeAt(n),r^=(r<<5)+a+(r>>2);var i=(2147483647&r).toString(16);return i}},function(t,e){e.getTimeZone=function(){var t=-(new Date).getTimezoneOffset()/60,e="+";t<0&&(e="-");var n=Math.abs(parseInt(t)),a=Math.abs(parseInt(t)-t),o="00";return a>0&&(o=60*a),"GMT"+e+(n>9?n:"0"+n)+":"+o}},function(t,e,n){"use strict";var a=n(20),o=n(69),r=n(21),i=n(2),s=i.getGlobalValue("aplus");t.exports=function(){return{getUserdata:function(){var t=this.options.config||{},e={};t&&!t.is_auto&&t.gokey&&("string"==typeof t.gokey?e=a.param2obj(t.gokey):"object"==typeof t.gokey&&(e=t.gokey));var n=function(t){o(t)?t.forEach(function(t){e=r.assign(e,t)}):e=r.assign(e,t)};n(s.getMetaInfo("aplus-cpvdata"));var i=this.options.context||{},u=i.userdata||{};return n(u),e},processLodashDollar:function(){var t=this.options.config||{},e=i.getGoldlogVal("_$")||{};t&&t.referrer&&(e.page_referrer=t.referrer),i.setGoldlogVal("_$",e)},updatePre:function(t){var e=i.getGoldlogVal("_$")||{};return e.page_referrer&&(t.pre=e.page_referrer),t},run:function(){var t=this.options.context.what_to_send.logdata,e=r.assign(this.getUserdata(),t.userdata||{});this.processLodashDollar(),t.gokey=r.assign(t.gokey,e),t=this.updatePre(t),this.options.context.what_to_send.logdata=t,this.options.context.userdata=t.gokey}}}},function(t,e){"use strict";t.exports=function(t){return Array.isArray?Array.isArray(t):/Array/.test(Object.prototype.toString.call(t))}},function(t,e,n){"use strict";var a=n(71),o=n(73),r=n(2),i=n(22);t.exports=function(){return{getPageId:function(){var t=this.options.config||{},e=this.options.context||{},n=e.userdata||{};return t.page_id||t.pageid||t.pageId||n.page_id},resetSpmB:function(){if(aplus.spmAPI){var t=r.getGoldlogVal("_$")||{},e=t.spm||{},n=e.data.b;if(n){var a=this.getPageId();n=a?n.split("/")[0]+"/"+a:n.split("/")[0],aplus.spmAPI&&aplus.spmAPI.setB(n);var o=e.spm_cnt.split(".");o&&o.length>2&&(o[1]=n,e.spm_cnt=o.join("."))}}},getExParamsInfo:function(){var t=a.getExParams();return this.options.context.what_to_send.logdata.exparams=t,o(t)},run:function(){this.resetSpmB();var t=this.options.context.what_to_send.logdata.gokey;t=i(this.getExParamsInfo(),t),this.options.context.what_to_send.logdata.gokey=t}}}},function(t,e,n){"use strict";function a(t){for(var e,n=t.split("&"),a=0,o=n.length,r=[];a<o;a++)e=n[a].split("="),r.push([e.shift(),e.join("=")]);return r}function o(t,e){var n="aplus&sidx=aplusSidex&ckx=aplusCkx",a=t||n;try{if(e){var o=u.param2obj(e),r=[d.APLUS,"cna",d.SPM_CNT,d.SPM_URL,d.SPM_PRE,"logtype","pre","uidaplus","asid","sidx","trid","gokey"];s(r,function(t){o.hasOwnProperty(t)&&(f.logger({msg:"Can not inject keywords: "+t}),delete o[t])}),delete o[""];var i="";if(t){var p=t.match(/aplus&/).index,l=p>0?u.param2obj(t.substring(0,p)):{};delete l[""],i=u.obj2param(c.assign(l,o))+"&"+t.substring(p,t.length)}else i=u.obj2param(o)+"&"+n;return i}return a}catch(t){return a}}function r(){var t=aplus&&aplus._$?aplus._$:{},e=t.meta_info||{};return e["aplus-exparams"]||""}function i(){var t=p.getCurrentNode(),e=l.tryToGetAttribute(t,"exparams"),n=o(e,r())||"";return n&&n.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=")}var s=n(27),u=n(20),c=n(21),p=n(60),l=n(28),g=n(72),f=n(26),d=n(3);e.mergeExparams=o,e.getExParams=i,e.getExparamsInfos=function(t,e){var n={},o=t||["uidaplus","pc_i","pu_i"],r=i()||"";r=r.replace(/&aplus&/,"&");for(var s=a(r)||[],u=function(t){return g.indexof(o,t)>-1},c=0;c<s.length;c++){var p=s[c],l=p[0]||"",f=p[1]||"";l&&f&&("EXPARAMS"===e||u(l))&&(n[l]=f)}return n}},function(t,e){"use strict";e.indexof=function(t,e){var n=-1;try{n=t.indexOf(e)}catch(o){for(var a=0;a<t.length;a++)t[a]===e&&(n=a)}finally{return n}},e.isArray=function(t){return Array.isArray?Array.isArray(t):/Array/.test(Object.prototype.toString.call(t))}},function(t,e,n){var a=n(20);t.exports=function(t){var e={};try{var n=a.param2obj(t.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=").replace(/&aplus&/,"&"));n.uidaplus&&(e.uidaplus=n.uidaplus),e.pc_i=n.pc_i,e.pu_i=n.pu_i}catch(t){console&&console.log(t)}return e}},function(t,e,n){"use strict";function a(t){var e,n,a,o,i=[],s={};for(e=t.length-1;e>=0;e--)n=t[e],a=n[0],a&&a.indexOf(r.s_plain_obj)==-1&&s.hasOwnProperty(a)||(o=n[1],("aplus"==a||o)&&(i.unshift([a,o]),s[a]=1));return i}function o(t){var e,n,a,o,i=[],u={logtype:!0,cache:!0,scr:!0,"spm-cnt":!0};for(e=t.length-1;e>=0;e--)if(n=t[e],a=n[0],o=n[1],!(s.isStartWith(a,r.s_plain_obj)&&!s.isStartWith(a,r.mkPlainKeyForExparams())||u[a]))if(s.isStartWith(a,r.mkPlainKeyForExparams())){var c=r.param2arr(o);if("object"==typeof c&&c.length>0)for(var p=c.length-1;p>=0;p--){var l=c[p];l&&l[1]&&i.unshift([l[0],l[1]])}}else i.unshift([a,o]);return i}var r=n(75),i=n(72),s=n(21),u=n(2),c=n(56),p=n(16),l=n(3),g=u.getGlobalValue(l.APLUS);t.exports=function(){return{keyIsAvailable:function(t){var e=["functype","funcId","spm-cnt","spm-url","spm-pre","_ish5","_is_g2u","_h5url","cna","isonepage","lver","jsver"];return i.indexof(e,t)===-1},valIsAvailable:function(t){return"object"!=typeof t&&"function"!=typeof t},upUtData:function(t,e){var n=this;if(t=t?t:{},e&&"object"==typeof e)for(var a in e){var o=e[a];a&&n.valIsAvailable(o)&&n.keyIsAvailable(a)&&(t[a]=o)}return t},getToUtData:function(){var t=u.getGoldlogVal("_$")||{},e=t.spm||{},n=this.options.context||{},i=n.what_to_send||{},s=i.logdata||{},f=s.sdk_info||{},d=this.options.context.etag||{},_=o(a(s.exparams||[]));_=r.arr2obj(_);var h=n.userdata,m=location.href,v={},y=p.getParamFromUrl("scm",m)||"";y&&(v.scm=y);var b=p.getParamFromUrl("pg1stepk",m)||"";b&&(v.pg1stepk=b);var E=p.getParamFromUrl("point",m)||"";E&&(v.issb=1),f&&f.mansndlog&&(v.mansndlog=f.mansndlog),v=this.upUtData(v,_),v=this.upUtData(v,s.gokey),v=this.upUtData(v,h),v.functype="page",v.funcId="2001",g&&g.globalConfig&&g.globalConfig.isAli?v.url=(location.protocol||"https:")+"//"+location.host+location.pathname:v.url=location.href,v._ish5="1",v._h5url=m,v._toUT=2,v._bridgeName="WindVane",v._bridgeVersion="3.0.4",e.spm_cnt&&(v[l.SPM_CNT]=e.spm_cnt||""),e.spm_url&&(v[l.SPM_URL]=e.spm_url||""),e.spm_pre&&(v[l.SPM_PRE]=e.spm_pre||""),v.cna=d.cna||c.getCookieCna("cna"),v.lver=f.lver,v.jsver=f.jsver,v.pver="1.0.0",v.isonepage=-1;var w=g.getMetaInfo("aplus-utparam");return w&&(v["utparam-cnt"]=JSON.stringify(w)),v._is_g2u_=1,v._slog=1,v},run:function(){var t=this.options.context||{},e=t.what_to_send||{};e.pvdataToUt=this.getToUtData(),this.options.context.what_to_send=e}}}},function(t,e){"use strict";function n(t){var e,n,o,r=[],i=t.length;for(o=0;o<i;o++)e=t[o][0],n=t[o][1],r.push(0===e.indexOf(a)?n:e+"="+encodeURIComponent(n));return r.join("&")}var a="::-plain-::";e.mkPlainKey=function(){return a+Math.random()},e.s_plain_obj=a,e.mkPlainKeyForExparams=function(t){var e=t||a;return e+"exparams"},e.arr2param=n,e.param2arr=function(t){for(var e,n=t.split("&"),a=0,o=n.length,r=[];a<o;a++)e=n[a].split("="),r.push([e.shift(),e.join("=")]);return r},e.arr2obj=function(t){var e,n,a,o={},r=t.length;for(a=0;a<r;a++)e=t[a][0],n=t[a][1],o[e]=n;return o},e.jsonLikeStr2JSON=function(t){if(!t||"string"!=typeof t)return{};for(var e=t.replace(/['"{}]+/g,""),n=e.split(","),a=[],o=0;o<n.length;o++)a.push(n[o].split(":"));var r=this.arr2obj(a);return r},e.can2https=function(t){if(0===t.indexOf("//")){var e="https:";/(\d+\.){3,}\d+/.test(t)&&(e="http:"),t=e+t}return t},e.checkEmptyObj=function(t){return"object"!=typeof t||0===Object.keys(t).length}},function(t,e,n){"use strict";var a=n(21),o=n(47),r=n(3);t.exports=function(){return{getToNativeData:function(){var t=this.options.context||{},e=a.cloneDeep(t.userdata)||{},n=t.what_to_send||{},i=n.logdata||{},s=i.sdk_info||{},u=this.options.context.etag||{},c={},p={},l={};return p.cna=u.cna,p.lver=s.lver,p.jsver=s.jsver,p.id=r.PAGE_START,p.ts=Date.now(),p.r=i.arg1||i.logkey||"-",p.is_h5="1",e.hasOwnProperty("autosend")?p.is_auto=1:p.is_auto=0,l=a.cloneDeep(o.deleteInfo(e,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick"])),l.duration&&(p.duration=l.duration,delete l.duration),l.page_start&&(p.page_start=l.page_start,delete l.page_start),i.url&&(p.page_name=aplus.getPageName()||l.spmB||l.page_name||i.url||"-",
p.url=i.url||"-",p["spm-cnt"]=encodeURIComponent(p.page_name)),i.pre&&(p.ref_url=i.pre||"-"),l.ts&&delete l.ts,c.sdkArgs=a.cloneDeep(p),c.cusp=l,c},run:function(){var t=this.options.context||{},e=t.what_to_send||{};e.pvdataToUmNative=this.getToNativeData(),this.options.context.what_to_send=e}}}},function(t,e,n){"use strict";var a=n(2);t.exports=function(){return{run:function(){var t=a.getGoldlogVal("_$")||{},e=this.options.context.can_to_sendpv||{},n=t.send_pv_count||0,o=this.options.config||{};return o.is_auto&&n>0?"done":(e.flag="YES",this.options.context.can_to_sendpv=e,t.send_pv_count=++n,void a.setGoldlogVal("_$",t))}}}},function(t,e,n){"use strict";var a=n(79),o=n(2);t.exports=function(){return{run:function(){var t=aplus._$||{},e=this.options.context||{};o.setGoldlogVal("pv_context",e);var n=aplus.spm_ab||[],r=n.join("."),i=t.send_pv_count,s={cna:e.etag.cna,count:i,spmab_pre:aplus.spmab_pre};a.doPubMsg(["sendPV","complete",r,s]),a.doCachePubs(["sendPV","complete",r,s])}}}},function(t,e,n){"use strict";var a=n(2),o="function",r=function(){var t=a.getGlobalValue("aplus"),e=t.aplus_pubsub||{},n=typeof e.publish===o;return n?e:""};e.doPubMsg=function(t){var e=r();e&&typeof e.publish===o&&e.publish.apply(e,t)},e.doCachePubs=function(t){var e=r();e&&typeof e.cachePubs===o&&e.cachePubs.apply(e,t)},e.doSubMsg=function(t,e){var n=r();n&&typeof n.subscribe===o&&n.subscribe(t,e)}},function(t,e,n){"use strict";var a=n(20),o=n(69),r=n(21),i=n(2),s=i.getGlobalValue("aplus");t.exports=function(){return{getUserData:function(){var t=this.options.context||{},e=t.userdata||{},n=t.what_to_send.logdata.gokey;n=r.assign(n,a.param2obj(e.gokey));var i=s.getMetaInfo("aplus-exinfo");i&&(n=r.assign(n,a.param2obj(i)));var u=s.getMetaInfo("aplus-exdata");return o(u)?u.forEach(function(t){n=r.assign(n,t)}):n=r.assign(n,s.getMetaInfo("aplus-exdata")),n},run:function(){this.options.context.what_to_send.logdata.gokey=this.getUserData()}}}},function(t,e,n){"use strict";var a=n(71),o=n(73),r=n(21);t.exports=function(){return{getExParamsInfo:function(){var t=a.getExParams();return this.options.context.what_to_send.logdata.exparams=t,o(t)},run:function(){var t=this.options.context.what_to_send.logdata.gokey;t=r.assign(this.getExParamsInfo(),t),this.options.context.what_to_send.logdata.gokey=t}}}},function(t,e,n){"use strict";var a=n(2),o=n(3),r=a.getGlobalValue(o.APLUS);t.exports=function(){return{getToUtData:function(){var t=a.getGoldlogVal("_$")||{},e=t.spm||{},n=this.options.context||{},i=n.userdata||{},s=n.etag||{},u=n.what_to_send||{},c=u.logdata||{},p=c.sdk_info||{},l=c.gokey||{},g=[],f="";for(var d in l)if([o.SPM_CNT,o.SPM_URL,o.SPM_PRE].indexOf(d)===-1){var _=l[d];"undefined"!==l[d]&&void 0!==l[d]||(_=""),g.push(d+"="+_)}g.length>0&&(f=g.join("&"));var h=location.href,m={};m.functype="ctrl",m.funcId=c.event_code,r&&r.globalConfig&&r.globalConfig.isAli?m.url=(location.protocol||"https:")+"//"+location.host+location.pathname:m.url=location.href,m.logkey=c.logkey,m.gokey=encodeURIComponent(f),m.gmkey=c.gmkey,m._ish5="1",m._h5url=h,m._is_g2u_=1,m._slog=1,m._toUT=2,m._bridgeName="WindVane",m._bridgeVersion="3.0.4",e.spm_cnt&&(m[o.SPM_CNT]=e.spm_cnt||""),e.spm_url&&(m[o.SPM_URL]=e.spm_url||""),e.spm_pre&&(m[o.SPM_PRE]=e.spm_pre||""),m.cna=s.cna,m.lver=p.lver,m.jsver=p.jsver,i.hasOwnProperty("autosend")&&(m.autosend=i.autosend);var v=r.getMetaInfo("aplus-utparam");return v&&(m["utparam-cnt"]=JSON.stringify(v)),m},run:function(){var t=this.options.context||{},e=t.what_to_send||{};e.pvdataToUt=this.getToUtData(),this.options.context.what_to_send=e}}}},function(t,e,n){"use strict";var a=n(21),o=n(47),r=n(75);t.exports=function(){return{getToNativeData:function(){var t=this.options.context||{},e=t.userdata||{},n=t.etag||{},i=t.what_to_send||{},s=i.logdata||{},u=s.sdk_info||{},c={},p={},l={};p.cna=n.cna,p.lver=u.lver,p.jsver=u.jsver,p.id=e.logkey||"-",p.ts=Date.now(),p.is_h5="1",p.funcId=s.event_code,e.gokey&&"string"==typeof e.gokey&&e.gokey.match("is_auto")?p.is_auto=1:p.is_auto=0,l="string"==typeof e.gokey?r.arr2obj(r.param2arr(e.gokey||"")):a.cloneDeep(o.deleteInfo(e.gokey,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick"])),s.url&&(p.page_name=aplus.getPageName()||l.spmB||l["data-pagename"]||l.page_name||s.url||"-",p.url=s.url||"-",p.page_name&&l.spmC&&(p["spm-cnt"]=[encodeURIComponent(p.page_name),encodeURIComponent(l.spmC),encodeURIComponent(l.spmD)].filter(function(t){return!!t}).join("."),delete l.spmC,delete l.spmB,delete l.spmD)),l.ts&&delete l.ts;var g=a.cloneDeep(l);for(var f in g)"string"==typeof f&&o.startsWith(f,"_")&&(p[f]=g[f],delete l[f]);return c.sdkArgs=a.cloneDeep(p),c.cusp=l,c},run:function(){var t=this.options.context||{},e=t.what_to_send||{};e.hjljdataToUmNative=this.getToNativeData(),this.options.context.what_to_send=e}}}},function(t,e,n){"use strict";t.exports=function(){return{run:function(){n(85)(this.options.context.logConfig)}}}},function(t,e,n){"use strict";var a=n(79),o=n(2);t.exports=function(t){var e=o.getGlobalValue("aplus");if(!e._aplus_api){e._aplus_api={status:"complete"};var r=n(86).run.create({logConfig:t});for(var i in r)e[i]=r[i];n(91).makePVId();var s=["aplusReady","complete"];a.doPubMsg(s),a.doCachePubs(s)}}},function(t,e,n){"use strict";function a(){var t=5e3;try{var e=w.getMetaInfo("aplus-mmstat-timeout");if(e){var n=parseInt(e);n>=1e3&&n<=1e4&&(t=n)}}catch(t){}return t}var o=document,r=n(11),i=n(56),s=n(32),u=n(26),c=n(79),p=n(21),l=n(2),g=n(10),f=n(3),d=n(43),_=n(87),h=n(19),m=n(90),v=[],y=[],b=[],E=[],w=l.getGlobalValue("aplus"),I=function(){};e.run=r.extend({beforeSendPV:function(t){v.push(t)},afterSendPV:function(t){y.push(t)},send:function(t,e,n){var o;if(0===t.indexOf("//")){var r=f.HTTPS;/(\d+\.){3,}\d+/.test(t)&&(r="http:"),t=r+t}return o="POST"===n&&navigator&&navigator.sendBeacon?m.postData(t,e):m.sendImg(t+"?"+e,a()),w.req=o,o},sendPV:function(t,e){if(t=t||{},p.any(v,function(e){return e(w,t)===!1}))return!1;var n=new _;t.recordType="PV";var a=w.logConfig.pv;return n.run({plugins:a.plugins,context:p.cloneDeep(a.context)},{config:t,userdata:e,pubsubType:"pv",messageFnQueue:y,middlewareMessageKey:"mw_change_pv"}),!0},pageEnter:function(t){d.pushIntoGoldlogQueue(f.PUBLISH,[f.PAGE_ENTER,t]),d.pushIntoGoldlogQueue(f.CACHE_PUBS,[f.PAGE_ENTER,t])},getParam:function(t){var e=window.WindVane||{},n=e&&"function"==typeof e.getParam?e.getParam(t):"";return n},beforeRecord:function(t){b.push(t)},afterRecord:function(t){E.push(t)},record:function(t,e,n,a,o){if(t&&0!==t.indexOf("/")&&w.globalConfig.isAli&&(t="/"+t),!p.any(b,function(t){return t(w)===!1})){var r=new _,i=w.logConfig.hjlj;return r.run({plugins:i.plugins,context:p.cloneDeep(i.context)},{config:{recordType:"COMMON_HJLJ",method:a},userdata:{logkey:t,gmkey:e,gokey:n},pubsubType:"hjlj",messageFnQueue:E,middlewareMessageKey:"mw_change_hjlj"},function(){g(o)&&o()}),!0}},recordUdata:function(t,e,n,a,o){var r=new _,i=w.logConfig.hjlj;r.run({plugins:i.plugins,context:p.cloneDeep(i.context)},{config:{recordType:"DATACLICK_HJLJ",method:a},userdata:{logkey:t,gmkey:e,gokey:n},pubsubType:"hjlj",messageFnQueue:E,middlewareMessageKey:"mw_change_hjlj"},function(){g(o)&&o()})},setPageSPM:function(t,e,n){var a=w.getMetaInfo("aplus-spm-fixed"),o="function"==typeof n?n:function(){};w.spm_ab=w.spm_ab||[];var r=p.cloneDeep(w.spm_ab);t&&(w.spm_ab[0]=""+t,w._$.spm.data.a=""+t),e&&(w.spm_ab[1]=""+e,w._$.spm.data.b=""+e);var i=h.qGet();if(w.spmAPI&&w.spmAPI.spaInit(w,i,r),"1"!==a){var s=r.join(".");w.spmab_pre=s}var u=["setPageSPM",{spmab_pre:w.spmab_pre,spmab:w.spm_ab.join(".")}];c.doPubMsg(u),c.doCachePubs(u),o()},setMetaInfo:function(t,e,n){var a,o,r="OVERWRITE",i=r;if("object"==typeof t?(a=t.metaName,o=t.metaValue,i=t.mode||r):(a=t,o=e),i!==r)return this.appendMetaInfo(a,o);if(h.setMetaInfo(a,o,n)){var s=l.getGoldlogVal("_$")||{};s.meta_info=h.qGet();var u=l.setGoldlogVal("_$",s),p=["setMetaInfo",a,o,n];return c.doPubMsg(p),c.doCachePubs(p),u}},appendMetaInfo:h.appendMetaInfo,updatePageProperties:function(t){t&&"object"==typeof t?(t._page&&(t.pageName=t._page,w.setMetaInfo("aplus-pagename",t.pageName),delete t._page),w.appendMetaInfo("aplus-cpvdata",t)):u.logger({msg:"warning: typeof updatePageProperties's params must be object"})},updateNextPageProperties:function(t){"object"==typeof t?w.appendMetaInfo("aplus-nextpage-properties",t):u.logger({msg:"warning: typeof updateNextPageProperties's params must be object"})},getMetaInfo:function(t){return h.getMetaInfo(t)},on:s.on,cloneDeep:p.cloneDeep,setCookie:i.setCookie,getCookie:i.getCookie,pageAppear:I,pageDisappear:I,updatePageUtparam:I,updateNextPageUtparam:I,updateSessionProperties:function(t){"object"==typeof t&&w.setMetaInfo("_session_args",t)},setPageName:function(t){if(!t||"string"!=typeof t)return void u.logger({msg:"setPageName failed:  pagename="+t});var e=o.querySelector("body");try{e.setAttribute("data-pagename",t)}catch(t){u.logger({msg:"setPageName failed:  err="+t})}},getPageName:function(){return window.document.body&&window.document.body.dataset&&window.document.body.dataset.pagename?window.document.body.dataset.pagename:""},getElementSPM:function(t){if(t&&t.dataset)return t.getAttribute("data-spm-anchor-id")}})},function(t,e,n){"use strict";var a=n(27),o=n(2),r=n(10),i=n(79),s=n(26),u=n(3),c=n(88),p=n(89),l=function(){};l.prototype.run=function(t,e,n){var l=new p;l.init({middleware:[],config:e.config,plugins:t.plugins});var g=l.run(),f=r(t.context)?new t.context:t.context;f.userdata=e.userdata,f.logger=s.logger;var d={context:f,pubsub:o.getGoldlogVal("aplus_pubsub"),pubsubType:e&&e.pubsubType},_=new c;_.create(d),_.wrap(g,function(){d.context.status=u.COMPLETE,e&&(e.middlewareMessageKey&&i.doPubMsg([e.middlewareMessageKey,d.context]),e.messageFnQueue&&a(e.messageFnQueue,function(e){e(o.getGlobalValue(u.APLUS),t)})),r(n)&&n(d.context)})()},t.exports=l},function(t,e,n){"use strict";function a(){}var o=n(10),r=n(72),i=n(26);a.prototype.create=function(t){for(var e in t)"undefined"==typeof this[e]&&(this[e]=t[e]);return this},a.prototype.calledList=[],a.prototype.setCalledList=function(t){r.indexof(this.calledList,t)===-1&&this.calledList.push(t)},a.prototype.resetCalledList=function(){this.calledList=[]},a.prototype.wrap=function(t,e){var n=this,a=this.context||{},s=a.compose||{},u=s.maxTimeout||1e4;return function(a){var s,c=t.length,p=0,l=0,g=function(f,d){if(p===c)return a="done",n.resetCalledList(),o(e)&&d!==a&&e.call(n,a),void clearTimeout(s);if(r.indexof(n.calledList,p)===-1){if(n.setCalledList(p),!t[p]||!o(t[p][0]))return;try{a=t[p][0].call(n,a,function(){p++,l=1,g(p)})}catch(t){i.logger({msg:t})}}var _="number"==typeof a;if("pause"===a||_){l=0;var h=_?a:u,m=t[p]?t[p][1]:"";s=setTimeout(function(){0===l&&(i.logger({msg:"jump the middleware about "+m+", because waiting timeout maxTimeout = "+h}),a=null,p++,g(p))},h)}else"done"===a?(p=c,g(p,a)):(p++,g(p))};return n.calledList&&n.calledList.length>0&&n.resetCalledList(),g(p)}},t.exports=a},function(t,e,n){"use strict";var a=n(22),o=n(26);t.exports=function(){return{init:function(t){this.opts=t,t&&"object"==typeof t.middleware&&t.middleware.length>0?this.middleware=t.middleware:this.middleware=[],this.plugins_name=[]},pubsubInfo:function(t,e){try{var n=t.pubsub;n&&n.publish("plugins_change_"+t.pubsubType,e)}catch(t){o.logger({msg:t})}},run:function(t){t||(t=0);var e=this,n=this.middleware,o=this.opts||{},r=o.plugins;if(r&&"object"==typeof r&&r.length>0){var i=r[t];if(this.plugins_name.push(i.name),n.push([function(t,n){e.pubsubInfo(this,i);var r=new i.path;return r.init||(r.init=function(t){this.options=t}),r.init({context:this.context,config:a(i.config||{},o.config)}),r.run(t,function(t){setTimeout(function(){n(i,t)},1)})},i.name]),t++,r[t])return this.run(t)}return n}}}},function(t,e){"use strict";e.sendImg=function(t,e){var n=window||{},a=new Image,o="_img_"+Math.random();n[o]=a;var r=function(){if(n[o])try{delete n[o]}catch(t){n[o]=void 0}};return a.onload=function(){r()},a.onerror=function(){r()},setTimeout(function(){window[o]&&(window[o].src="",r())},e||5e3),a.src=t,a=null,t},e.postData=function(t,e){return navigator.sendBeacon(t,e),t}},function(t,e,n){"use strict";function a(){var t,e=r.getGlobalValue("aplus");try{var n=e.getMetaInfo("aplus-disable-pvid")+"";"true"===n?t=!0:"false"===n&&(t=!1)}catch(t){}return t}var o=n(79),r=n(2),i=n(65);e.isDisablePvid=a,e.makePVId=function(){var t=r.getGlobalValue("aplus"),e=t.pvid,n=location&&location.href,s=document&&document.title;t.pvid=i.getLogId(n,s);var u=["pvidChange",{pre_pvid:e,pvid:t.pvid}];return o.doPubMsg(u),o.doCachePubs(u),a()?"":t.pvid},e.getPvId=function(){var t=r.getGlobalValue("aplus");return a()?"":t.pvid}},function(t,e,n){"use strict";var a=n(93),o=n(2);t.exports=function(){return{run:function(){var t=this.options.context.aplus_config,e=t.globalConfig.APLUS_QUEUE,n=o.getContext(),r=n[e]||[],i=a.getFormatQueue(r,"metaQueue");n[e]=i.queue,a.processGoldlogQueue(i.formatQueue,this.options.config)}}}},function(t,e,n){function a(){var t=u.getGoldlogVal("_$")||{},e=t.meta_info;return e}function o(){var t=a()||{},e=t.uaid+"";return"1"!==e||t._anony_id?t._hold||t["aplus-waiting"]:"BLOCK"}function r(t){var e=o(),n=a()||{},r=!0,i=t.arguments||[],s=i[0],u=i[1],c="START";if("_hold"===s&&u===c)return c;if("_anony_id"===s&&u)return c;if(t&&/sendPV|record|setPageSPM|setMetaInfo|appendMetaInfo$/.test(t.action))switch(e){case"BLOCK":n[e]||(h.push(t),r=!1)}return r}function i(t){f(d,t),f(_,t),f(h,t)}function s(t,e){return e&&g.openAPIs.indexOf(t)>-1&&(t="_"+t),t}var u=n(2),c=n(72),p=n(10),l=n(26),g=n(3),f=function(t,e){function n(){if(t&&c.isArray(t)&&t.length){for(var n=v(t).queue,a={},o=[];a=n.shift();)m(a,e,function(t){o.push(t)});o.length>0&&setTimeout(function(){for(;a=o.shift();)m(a,e)},100)}}try{n()}catch(t){l.logger({msg:t})}};e.processGoldlogQueue=f;var d=[],_=[],h=[];e.subscribeAndProcessQueue=function(t,e){var n=u.getGlobalValue(t);n.push({action:g.SUBSCRIBE,arguments:[g.SET_META_INFO,function(t,n){t===g._USER_ID&&n?f(d,e):t===g._ANONY_ID&&n?f(_,e):"_hold"===t&&"START"===n&&i(e)}]})};var m=function(t,e,n){var a=!!e.isOpenApi,o=t?t.action:"",g=t?t.arguments:"",f=r(t);if(f){var d=u.getContext();try{if(o&&g&&c.isArray(g)){var _,h=o.split("."),m=d,v=d;if(3===h.length)m=d[h[0]][h[1]]||{},_=s(h[2],a),v=m[_]?m[_]:"";else for(;h.length;)if(_=s(h.shift(),a),v=m=m[_],!m)return void(p(n)&&n(t));p(v)&&v.apply(m,g),"START"===f&&i(e)}}catch(t){l.logger({msg:t})}}};e.processTask=m;var v=function(t,e){for(var n={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]},a=[],o={};o=t.shift();)try{var r=o.action,i=o.arguments[0];/subscribe/.test(r)?"setMetaInfo"===i?n.subscribeMetaQueue.push(o):i===g.MW_CHANGE_PV||i===g.MW_CHANGE_HJLJ?n.subscribeMwChangeQueue.push(o):n.subscribeQueue.push(o):/MetaInfo/.test(r)?n.metaQueue.push(o):n.othersQueue.push(o)}catch(t){l.logger({msg:t}),n.othersQueue.push(o)}var s;return e&&n[e]&&(s=n[e],n[e]=[]),a=n.subscribeMwChangeQueue.concat(n.metaQueue),a=a.concat(n.subscribeQueue),a=a.concat(n.subscribeMetaQueue,n.othersQueue),{queue:a,formatQueue:s}};e.getFormatQueue=v},function(t,e,n){"use strict";var a=n(23),o=n(60),r=n(59),i=n(25);t.exports=function(){return{run:function(){var t=this,e=this.options.context.aplus_config;if(i.test()){var n=a.getLsCna(e.globalConfig.ETAG_STORAGE_KEY,t.today);n||setTimeout(function(){var n=aplus._$.meta_info["aplus-rhost-v"];if(n){t.options.context.etag.egUrl=n+"/eg.js";var i=r.getUrl(t.options.context.etag||{});o.loadScript(i,function(n){n&&"error"!==n.type&&a.setLsCna(e.globalConfig.ETAG_STORAGE_KEY,t.today,aplus.Etag)})}},1e3)}}}}},function(t,e,n){"use strict";var a=n(11),o=n(2),r=n(93),i=a.extend({push:function(t){this.length++,r.processTask(t,this.opts)}});t.exports=function(){return{processAplusQueue:function(t){var e=this.options.config||{},n=o.getGlobalValue(t);r.processGoldlogQueue(n,e),o.setGlobalValue(t,i.create({opts:e,startLength:n.length,length:0}))},run:function(){var t=this.options.context.aplus_config,e=t.globalConfig.APLUS_QUEUE;this.processAplusQueue(e),"aplus_queue"===e&&this.processAplusQueue("goldlog_queue"),r.subscribeAndProcessQueue(e,this.options.config)}}}},function(t,e,n){"use strict";var a=n(27),o=n(60),r=n(72);t.exports=function(){return{init:function(t){this.options=t},addStyle:function(t,e){var n=t+"_style",a=document.getElementById(n);a||(a=document.createElement("link"),a.id=n,a.href=e,a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head").item(0).appendChild(a))},run:function(){var t=this,e=parent!==self,n=this.options.config||{};!e&&n.urlRules&&a(n.urlRules,function(e){var n,i=new RegExp(e.rule);try{n=e.id?window.sessionStorage.getItem(e.id):""}catch(t){}if(i.test(location.href)||n){try{window.sessionStorage.setItem(e.id,!0)}catch(t){}r.isArray(e.cdnPath)?a(e.cdnPath,function(n){/\.css$/.test(n)?t.addStyle(e.id,n):/\.js/.test(n)&&o.addScript(n)}):o.addScript(e.cdnPath)}})}}}},function(t,e,n){"use strict";var a=n(26);t.exports=function(){return{run:function(){if(!aplus._h5_share_enable)return aplus._h5_share_enable=1,aplus._h5_share_enable?void n(98)():void a.logger({msg:"使用h5采集分享能力需先配置metainfo中aplus_h5_share_enabled为true"})}}}},function(t,e,n){"use strict";function a(){m.remove("__sharefrom"),m.remove("__fromappkey"),m.remove("_um_ssrc"),m.remove("_um_channel"),m.remove("_um_campaign")}function o(t){for(var e=window.location.search.substring(1),n=e.split("&"),a=0;a<n.length;a++){var o=n[a].split("=");if(o[0]===t)return o[1]}return""}function r(){var t=o("sharefrom")||"";t&&m.set("__sharefrom",t);var e=o("fromappkey")||"";e&&m.set("__fromappkey",e);var n=o("_um_ssrc")||"";n&&m.set("_um_ssrc",n);var a=o("_um_channel")||"";a&&m.set("_um_channel",a);var r=o("_um_campaign")||"";r&&m.set("_um_campaign",r)}function i(t,e){var n=t||{};aplus_queue.push({action:"aplus.record",arguments:["$$_share","CLK",n,"POST",e]})}function s(t,e){var n=aplus.getMetaInfo("aplus-rhost-v");n=(/^\/\//.test(n)?"":"//")+n;var a=_.can2https(n)+"/ulink/getTC",o=aplus.getCookie("cna")||"";l.request4um({url:a,data:{appkey:t.appkey||"",openid:t.openid||aplus.getMetaInfo("openid")||o,unionId:t.unionId||aplus.getMetaInfo("unionid")||"",trackCode:t.trackCode||"",rootTrackCode:t.rootTrackCode||"",url:t.url||location.href},success:function(n){if(f(e))if(n)if(200===n.code&&n.data&&n.data.trackCode){r();var a="";a=t.rootTrackCode&&!m.get("_um_ssrc")?t.rootTrackCode+","+n.data.trackCode:(m.get("_um_ssrc")||"")+","+n.data.trackCode,a&&m.set("_um_ssrc",a),e({_um_ssrc:a,trackCode:n.data.trackCode})}else g.logger({msg:"获取trackcode失败, "+n.msg}),e({});else g.logger({msg:"获取trackcode失败"}),e({});else g.logger({msg:"getNextTrackCode入参回调函数需满足function类型"})},error:function(){f(e)&&e({})}})}function u(t,e){if("string"==typeof t&&0!==t.length){var n=c.getGlobalValue(p.APLUS),a=n.getMetaInfo("aplus-rhost-v");a=(/^\/\//.test(a)?"":"//")+a;var o=_.can2https(a)+"/uminiprogram_logs/comm/uif2";try{var r=JSON.parse(t);r&&!r.it&&(r.it=n.getMetaInfo(p.ID_TYPE)||"cnaid"),l.request4um({url:o,data:{ui:h.encode(JSON.stringify(r))},success:function(t){t&&t.data?f(e)&&e(t.data):g.logger({msg:"上传用户信息失败"})},error:function(){g.logger({msg:"上传用户信息失败"}),f(e)&&e({})}})}catch(t){g.logger({msg:"ui上报格式异常，请检查ui参数"+t})}}}var c=n(2),p=n(3),l=n(53),g=n(26),f=n(10),d=n(32),_=n(75),h=n(99),m=n(25);t.exports=function(){var t=c.getGlobalValue(p.APLUS);t.trackShare=i,t.getNextTrackCode=s,t.uploadUserProfile=u,r();try{d.on(window,"beforeunload",function(){a()})}catch(t){g.logger({msg:"清理分享信息失败"+t})}}},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var e={},n=0,a=t.length;n<a;n++)e[t.charAt(n)]=n;return e}(n),o=String.fromCharCode,r=function(t){var e;return t.length<2?(e=t.charCodeAt(0),e<128?t:e<2048?o(192|e>>>6)+o(128|63&e):o(224|e>>>12&15)+o(128|e>>>6&63)+o(128|63&e)):(e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320),o(240|e>>>18&7)+o(128|e>>>12&63)+o(128|e>>>6&63)+o(128|63&e))},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(t){return t.replace(i,r)},u=function(t){var e=[0,2,1][t.length%3],a=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),o=[n.charAt(a>>>18),n.charAt(a>>>12&63),e>=2?"=":n.charAt(a>>>6&63),e>=1?"=":n.charAt(63&a)];return o.join("")},c=function(t){return t.replace(/[\s\S]{1,3}/g,u)},p=function(t){return c(s(t))},l=function(t,e){return e?p(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/\=/g,""):p(String(t))},g=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),f=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return o((n>>>10)+55296)+o((1023&n)+56320);case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},d=function(t){return t.replace(g,f)},_=function(t){var e=t.length,n=e%4,r=(e>0?a[t.charAt(0)]<<18:0)|(e>1?a[t.charAt(1)]<<12:0)|(e>2?a[t.charAt(2)]<<6:0)|(e>3?a[t.charAt(3)]:0),i=[o(r>>>16),o(r>>>8&255),o(255&r)];return i.length-=[0,0,2,1][n],i.join("")},h=function(t){return t.replace(/[\s\S]{1,4}/g,_)},m=function(t){return d(h(t))},v=function(t){return m(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};e.encode=l,e.decode=v},function(t,e,n){"use strict";var a=n(26);t.exports=function(){return{run:function(){return aplus._aplus_cplugin_webvt?void a.logger({msg:"当前集成了可视化埋点分析插件，需要您做可视化埋点配置，才会有自动pv功能"}):void n(101)()}}}},function(t,e,n){"use strict";var a=n(2);t.exports=function(){var t=a.getGlobalValue("aplus"),e=a.getGlobalValue("aplus_queue");t._aplus_apv||(t._aplus_apv={status:"complete"},e.push({action:"aplus.sendPV",arguments:[{is_auto:!0}]}))}},function(t,e,n){"use strict";t.exports=function(t){var e=window,a="g_tb_aplus_loaded";if(!e[a]){e[a]=1,n(103).isDebugAplus();var o=n(26),r=n(79),i=n(21),s=n(27),u=n(104),c="running",p=["aplusReady",c];r.doPubMsg(p),u.run({plugins:t.plugins,context:function(){var e={PAGE_LOAD_TIME:new Date},n=[];return s(t.plugins,function(t){e[t.name]=t.config||{},"aplus_log_inject"===t.name&&t.config&&t.config.plugins&&(n=t.config.plugins.pv,s(n,function(t){e[t.name]=t.config}))}),i.assign(e,{aplus_config:t})}},function(){o.logger({msg:"APLUS INIT SUCCESS"})})}}},function(t,e,n){"use strict";var a,o=n(2);e.isDebugAplus=function(t){if("boolean"==typeof a)return a;if("boolean"==typeof t&&(a=t),localStorage&&location){var e=location.href.match(/aplusDebug=(true|false)/);e&&e.length>0&&localStorage.setItem("aplusDebug",e[1]),a="true"===localStorage.getItem("aplusDebug")}else a=!1;return o.setGoldlogVal("aplusDebug",a),a}},function(t,e,n){"use strict";var a=n(87),o=n(10),r=n(79);e.run=function(t,e){var n=new a;n.run({plugins:t.plugins,context:t.context},{config:{},userdata:{},pubsubType:"aplusinit",messageFnQueue:[],middlewareMessageKey:"mw_change_aplusinit"},function(t){var n=["aplusInitContext",t];r.doPubMsg(n),r.doCachePubs(n),o(e)&&e(t)})}}]);